"use strict";angular.module("examApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap","ngFileUpload"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).factory("authInterceptor",["$rootScope","$log","$q","$cookieStore","$location",function(a,b,c,d,e){return{request:function(a){return a.headers=a.headers||{},d.get("token")&&(a.headers.Authorization="Bearer "+d.get("token")),a},responseError:function(a){return 401===a.status?(e.path("/login"),d.remove("token"),c.reject(a)):c.reject(a)}}}]).run(["$rootScope","$log","$location","Auth",function(a,b,c,d){a.$on("$stateChangeStart",function(a,b){b.admin&&!d.isAdmin()&&c.path("/"),d.isLoggedIn(function(a){b.anonymous||(a||c.path("/login"),b.admin&&!d.isAdmin()&&c.path("/"))})})}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl",controllerAs:"vm",anonymous:!0}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl",controllerAs:"vm",anonymous:!0}).state("resetPassword",{url:"/resetPassword/:userId",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",controllerAs:"vm",authenticate:!0}).state("settings",{url:"/settings/:userId",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",controllerAs:"vm",authenticate:!0,admin:!0}).state("users",{url:"/users",templateUrl:"app/account/users/userList.html",controller:"UserCtrl",controllerAs:"vm",authenticate:!0,admin:!0}).state("userNew",{url:"/users/e",templateUrl:"app/account/users/userEdit.html",controller:"UserEditCtrl",controllerAs:"vm",authenticate:!0,admin:!0}).state("userEdit",{url:"/users/e/:userId",templateUrl:"app/account/users/userEdit.html",controller:"UserEditCtrl",controllerAs:"vm",authenticate:!0}).state("profile",{url:"/profile/:userId",templateUrl:"app/account/users/userProfile.html",controller:"UserProfileCtrl",controllerAs:"vm",authenticate:!0})}]),angular.module("examApp").controller("LoginCtrl",["$state","$log","Auth","$location","notification",function(a,b,c,d,e){function f(){c.logout()}var g=this;g.user={email:"",password:"",code:""},g.error=null,g.isLoading=!1,f(),g.login=function(){g.frm.$valid&&(e.notify("Logging in..."),g.isLoading=!0,c.login({email:g.user.email,password:g.user.password,code:g.user.code}).then(function(a){d.path("/")}).catch(function(a){401==a.status&&(g.error="Invalid Login.The username or password or institute code is incorrect")}).finally(function(){e.hide(),g.isLoading=!1}))}}]),angular.module("examApp").controller("SettingsCtrl",["$scope","$location","$state","$stateParams","User","Auth","api","notification",function(a,b,c,d,e,f,g,h){function i(){l=d.userId,l||(k.isResetPassword=!0),b.url().indexOf("resetPassword")>-1&&(k.isResetPassword=!0)}function j(){return k.isConfirmPassword=k.password===k.confirmPassword,k.isConfirmPassword}var k=this;k.confirmPassword=null,k.password=null,k.isConfirmPassword=!0,k.error="",k.isResetPassword=!1;var l=null;i(),k.cancel=function(){l?c.go("profile",{userId:l}):c.go("profile")},k.change=function(){k.isResetPassword?k.resetPassword():k.changePassword()},k.changePassword=function(){k.frm.$invalid||j()&&g.connectApi(k,"Reseting..",g.resetPassword.bind(g,l,k.password),function(a){h.info("User","Password reset successful"),k.cancel()})},k.resetPassword=function(){k.frm.$invalid||j()&&g.connectApi(k,"Reseting..",g.resetPasswordSelf.bind(g,k.oldPassword,k.password),function(a){h.info("User","Password reset successful"),k.cancel()})}}]),angular.module("examApp").controller("SignupCtrl",["$log","$state","$location","api",function(a,b,c,d){function e(){return f.isConfirmPassword=f.user.password===f.user.confirmPassword,f.isConfirmPassword}var f=this;f.user={},f.success=!1,f.isConfirmPassword=!0,f.register=function(){if(!f.frm.$invalid&&e()){var a={name:f.user.name,email:f.user.email,password:f.user.password,code:f.user.code};d.connectApi(f,"Creating User...",d.signUp.bind(d,a),function(a){f.success=!0,f.user={}})}}}]),angular.module("examApp").controller("UserCtrl",["$state","$log","api","notification","Modal","Auth",function(a,b,c,d,e,f){function g(){h(),i.isSuperAdmin=f.isSuperAdmin}function h(){c.connectApi(i,"Loading...",c.getUsers.bind(c),function(a){i.allUsers=a})}var i=this;i.isLoading=!1,i.allUsers=null,g(),i.delete=e.confirm.delete(function(b){c.connectApi(i,"Deleting...",c.deleteUser.bind(c,b.id),function(c){d.info("User",b.name+" deleted successfully"),a.reload()})}),i.activate=e.confirm.question(function(b){var e={id:b.id,active:1};c.connectApi(i,"Activating...",c.saveUser.bind(c,e),function(c){d.info("User",b.name+" activated successfully"),a.reload()})}),i.deActivate=e.confirm.question(function(b){var e={id:b.id,active:0};c.connectApi(i,"Deactivating...",c.saveUser.bind(c,e),function(c){d.info("User",b.name+" deactivated successfully"),a.reload()})}),i.goToNewUser=function(){a.go("userNew")}}]),angular.module("examApp").controller("UserEditCtrl",["$state","$stateParams","$location","$log","api","notification","Auth",function(a,b,c,d,e,f,g){function h(){k.editMode=!0,b.userId?i(b.userId):(k.headerText="New user",k.editMode=!1),k.isSuperAdmin=g.isSuperAdmin}function i(a){e.connectApi(k,"Loading...",e.getUser.bind(e,a),function(a){k.user=a,k.headerText="Edit user - "+k.user.name})}function j(){return k.isConfirmPassword=k.user.password===k.confirmPassword,k.isConfirmPassword}var k=this;k.user={active:1},k.editMode=null,k.headerText=null,k.confirmPassword=null,k.error="",k.isConfirmPassword=!0,h(),k.save=function(){k.frm.$invalid||(j(),(k.editMode||k.isConfirmPassword)&&e.connectApi(k,"Saving..",e.saveUser.bind(e,k.user),function(b){var c=k.editMode?" saved":"created";f.success("User","User "+c+" successfully"),a.go("users")}))},k.cancel=function(){a.go("users")}}]),angular.module("examApp").controller("UserProfileCtrl",["$stateParams","$state","$log","notification","Auth","api",function(a,b,c,d,e,f){function g(){h()}function h(){f.connectApi(k,"Loading...",f.getProfile.bind(f,a.userId),function(a){k.user=a,j()}),e.isAdmin()&&a.userId&&i()}function i(){f.connectApi(k,"Loading...",f.getExamsForUser.bind(f,a.userId),function(a){k.exams=a})}function j(){if(k.user.exams)for(var a=0;a<k.user.exams.length;a++){var b=k.user.exams[a];b.computedScore=Math.round(b.maxMarks*b.percent/100)}}var k=this;k.isLoading=!0,k.exams=[],g(),k.isAdmin=function(){return e.isAdmin()},k.assignExam=function(){b.go("assignuserUser",{userId:a.userId,userName:k.user.name})},k.resetPassword=function(){var c=e.getCurrentUser();if(k.user.id===c.id)return void b.go("resetPassword");e.isAdmin()?b.go("settings",{userId:a.userId}):b.go("resetPassword")},k.deleteUserExam=function(a){f.connectApi(k,"Deleting...",f.deleteUserExam.bind(f,a.id),function(b){i(),d.info("Delete",a.name+" deleted successfully")})}}]),angular.module("examApp").controller("AdminCtrl",["$scope","$http","Auth","User",function(a,b,c,d){a.users=d.query(),a.delete=function(b){d.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl",admin:!0})}]),angular.module("examApp").controller("AssignuserCtrl",["$state","$stateParams","$log","api","notification",function(a,b,c,d,e){function f(a){return a.userId&&a.examId?void d.connectApi(j,"Loading...",d.assignUsers.bind(d,a),function(a){if(a&&a.failureCount>0)return void(j.error="An internal server error has occurred. Please check the server logs to diagnose the error");j.exam.id&&(e.info("User Assignments","User assigned successfully"),h()),j.user.id&&(e.info("Exam Assignments","Exam assigned successfully"),i())}):void(j.error="Please select atleast 1 row")}function g(){b.examId&&(j.exam={id:b.examId,name:b.examName},h()),b.userId&&(j.user={id:b.userId,name:b.userName},i())}function h(){d.connectApi(j,"Loading...",d.getNewUsersForExam.bind(d,j.exam.id),function(a){j.users=a})}function i(){d.connectApi(j,"Loading...",d.getNewExamsForUser.bind(d,j.user.id),function(a){j.exams=a})}var j=this;j.exam={},j.users=null,j.user={},j.exams=null,g(),j.saveExams=function(){for(var a={userId:j.user.id},b=[],c=0;c<j.exams.length;c++)j.exams[c].isSelected&&b.push(j.exams[c].id);a.examId=b.join(","),f(a)},j.saveUsers=function(){for(var a={examId:j.exam.id},b=[],c=0;c<j.users.length;c++)j.users[c].isSelected&&b.push(j.users[c].id);a.userId=b.join(","),f(a)},j.cancel=function(){j.exam.id&&a.go("exam",{examId:j.exam.id,tab:"user"}),j.user.id&&a.go("profile",{userId:j.user.id})}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("assignuserExam",{url:"/assignuser/exam/:examId/:examName",templateUrl:"app/assignuser/assignuser.html",controller:"AssignuserCtrl",controllerAs:"vm",admin:!0}).state("assignuserUser",{url:"/assignuser/user/:userId/:userName",templateUrl:"app/assignuser/assignuser.html",controller:"AssignuserCtrl",controllerAs:"vm",admin:!0})}]),angular.module("examApp").controller("BackupCtrl",["$log","$window","api","notification","Auth",function(a,b,c,d,e){function f(){c.lastBackup().then(function(a){!a||a<3||(a>3&&(g.icon="success"),a>10&&(g.icon="danger"),g.message="It has been "+a+" days since you backed up the database. Please do regular backups")})}var g=this;g.fileName="",g.message="",g.icon="",e.isSuperAdmin()&&f(),g.startBackup=function(){c.connectApi(g,"Loading...",c.startBackup.bind(c),function(a){g.fileName=a.fileName,c.updateBackupDate(),g.message=""})},g.downloadFile=function(){return b.open("/templates/download/"+g.fileName)}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("backup",{url:"/backup",templateUrl:"app/backup/backup.html",controller:"BackupCtrl",controllerAs:"vm",admin:!0})}]),angular.module("examApp").controller("CategoryCtrl",["$state","$stateParams","$log","$location","api","notification","Modal","Auth",function(a,b,c,d,e,f,g,h){function i(){l.isSuperAdmin=h.isSuperAdmin,d.path().indexOf("/e")>-1?(l.editMode=!0,b.categoryId?k(b.categoryId):l.headerText="New Category"):(l.editMode=!1,j())}function j(){e.connectApi(l,"Loading...",e.getCategoriesForAdmin.bind(e),function(a){l.allCategory=a})}function k(a){e.connectApi(l,"Loading...",e.getCategory.bind(e,a),function(a){l.category=a,l.headerText="Edit Category - "+l.category.name,l.old_code=l.category.name})}var l=this;l.allCategory=[],l.category={},l.editMode=null,l.headerText=null,l.error="",l.old_code=null,i(),l.addCategory=function(){a.go("categoryEdit")},l.save=function(){l.old_code?l.category.old_code=l.old_code:delete l.category.old_code,e.connectApi(l,"Saving..",e.saveCategory.bind(e,l.category),function(b){a.go("category")})},l.cancel=function(){a.go("category")},l.delete=g.confirm.delete(function(b){e.connectApi(l,"Deleting...",e.deleteCategory.bind(e,b.id),function(c){f.info("Category",b.name+" deleted successfully"),a.reload()})})}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("category",{url:"/category",templateUrl:"app/category/category.html",controller:"CategoryCtrl",controllerAs:"vm",admin:!0,authenticate:!0}).state("categoryEdit",{url:"/category/e/:categoryId",templateUrl:"app/category/category.html",controller:"CategoryCtrl",controllerAs:"vm",admin:!0,authenticate:!0})}]),angular.module("examApp").controller("ExamCtrl",["$scope","$location","$state","$stateParams","$log","Auth","Modal","api","notification",function(a,b,c,d,e,f,g,h,i){function j(){s.isSuperAdmin=f.isSuperAdmin,k(),d.examId?(s.isNew=!1,s.exam={id:d.examId},r(d.examId)):(s.isNew=!0,s.exam=h.getExamModel()),d.tab&&s.setTab(d.tab)}function k(){s.isLoading=!0,h.getCategories().then(function(a){s.category=a}).catch(function(a){e.error(a)}).finally(function(){s.isLoading=!1})}function l(a){h.connectApi(s,"Loading...",h.getAllQuestionsForExamDisplay.bind(h,a),function(a){s.questions=a})}function m(a,b){h.connectApi(s,"Deleting...",h.deleteQuestion.bind(h,a),function(a){l(d.examId),i.info("Delete",b.name+" deleted successfully")})}function n(a,b){h.connectApi(s,"Deleting...",h.deleteUserExam.bind(h,b),function(b){p(d.examId),i.info("Delete",a+" deleted successfully")})}function o(a){h.connectApi(s,"Deleting...",h.deleteExam.bind(h,a),function(a){i.info("Exam",s.exam.name+" deleted successfully"),c.go("main")})}function p(){h.connectApi(s,"Loading...",h.getUsersForExam.bind(h,s.exam.id),function(a){s.users=a})}function q(a){h.connectApi(s,"Loading...",h.getInstitutesForExam.bind(h,a),function(a){s.institutes=a})}function r(a){h.connectApi(s,"Loading...",h.getExam.bind(h,a),function(a){s.exam=a})}var s=this;s.exam={},s.category=[],s.currentTab="detail",s.isNew=!0,s.saveError=null,s.users=null,s.currentUser=null,s.questions=null,s.isLoading=!1,s.setTab=function(a){s.currentTab=a,"question"===s.currentTab&&s.loadQuestions(),"user"===s.currentTab&&s.loadUsersForExam(),"shareInstitute"===s.currentTab&&s.isSuperAdmin()&&s.loadInstitutesForExam()},s.loadUsersForExam=function(){null===s.users&&p()},s.loadQuestions=function(){null===s.questions&&l(d.examId)},s.isSuperAdmin=function(){return f.isSuperAdmin()},s.loadInstitutesForExam=function(){q(s.exam.id)},j(),s.addQuestion=function(){c.go("questionAdd",{examId:s.exam.id})},s.headerText=function(){return s.isNew?"New Exam":"Edit Exam - "+s.exam.name},s.edit=function(){c.go("examEdit",{examId:s.exam.id})},s.assignUser=function(){c.go("assignuserExam",{examId:s.exam.id,examName:s.exam.name})},s.launch=function(a){c.go("launch",{examId:a})},s.shareExam=function(){c.go("shareInstitute",{examId:s.exam.id,examName:s.exam.name})},s.delete=g.confirm.delete(function(a){o(a.id)}),s.deleteQuestion=g.confirm.delete(function(a){m(a.id,a)}),s.deleteUser=function(a){n(a.name,a.id)},s.cancel=function(){c.go("main")},s.save=function(){s.frm.$invalid||h.connectApi(s,"Saving...",h.saveExam.bind(h,s.exam,s.isNew),function(a){c.go("exam",{examId:a[0].id})})}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("examEdit",{url:"/exam/e/:examId",templateUrl:"app/exam/exam.html",controller:"ExamCtrl",controllerAs:"vm",admin:!0}).state("exam",{url:"/exam/detail/:examId/:tab",templateUrl:"app/exam/examDetail.html",controller:"ExamCtrl",controllerAs:"vm",admin:!0}).state("examNoTab",{url:"/exam/detail/:examId",templateUrl:"app/exam/examDetail.html",controller:"ExamCtrl",controllerAs:"vm",admin:!0}).state("questionAdd",{url:"/question/c/:examId",templateUrl:"app/exam/question.html",controller:"QuestionCtrl",controllerAs:"vm",admin:!0}).state("questionEdit",{url:"/question/e/:questionId",templateUrl:"app/exam/question.html",controller:"QuestionCtrl",controllerAs:"vm",authenticate:!0,admin:!0}).state("question",{url:"/question/detail/:questionId",templateUrl:"app/exam/questionDetail.html",controller:"QuestionCtrl",controllerAs:"vm",authenticate:!0,admin:!0})}]),angular.module("examApp").controller("QuestionCtrl",["$stateParams","$state","$log","api","notification",function(a,b,c,d,e){function f(){a.questionId?(j.isNew=!1,h(a.questionId)):(j.isNew=!0,j.question=d.getQuestionModel(a.examId))}function g(){if(!(j.question.aCorrect||j.question.bCorrect||j.question.cCorrect||j.question.dCorrect||j.question.eCorrect))return j.error="Please select atleast 1 correct answer",!1;var a=0;return j.question.a&&a++,j.question.b&&a++,j.question.c&&a++,j.question.d&&a++,j.question.e&&a++,!(a<2)||(j.error="Please provide at least 2 answer options",!1)}function h(a){d.connectApi(j,"Loading...",d.getQuestion.bind(d,a),function(a){j.question=a})}function i(){d.connectApi(j,"Saving..",d.saveQuestion.bind(d,j.question,j.isNew),function(a){j.question=a[0],e.info("Question",j.question.name+" saved successfully"),b.go("exam",{examId:j.question.examId,tab:"question"})})}var j=this;j.question={},j.isNew=!0,j.saveError=null,j.isLoading=!1,f(),j.headerText=function(){return j.isNew?"New Question":"Edit Question - "+j.question.name},j.cancel=function(){b.go("exam",{examId:j.question.examId,tab:"question"})},j.save=function(){j.frm.$invalid||g()&&i()}}]),angular.module("examApp").controller("InstituteCtrl",["$state","$stateParams","$location","$log","api","notification","Modal","Auth",function(a,b,c,d,e,f,g,h){function i(){t.isSuperAdmin=h.isSuperAdmin,b.instituteId?m(b.instituteId):s(),b.tab&&t.setTab(b.tab)}function j(){return t.settings.isConfirmPassword=t.settings.password===t.settings.confirmPassword,t.settings.isConfirmPassword}function k(a){t.institute.active&&e.connectApi(t,"Loading...",e.allStats.bind(e,a),function(a){t.stats=a})}function l(a){e.connectApi(t,"Loading...",e.getCurrentLogo.bind(e,a),function(a){t.logo=a.logo})}function m(a){e.connectApi(t,"Loading...",e.getInstitute.bind(e,a),function(a){t.institute=a})}function n(a,c){e.connectApi(t,"Loading...",e.resetAdminPassword.bind(e,a,c),function(a){f.info("Institute",t.institute.name+" admin password reset successfully"),t.setTab("detail"),m(b.instituteId)})}function o(a){e.connectApi(t,"Loading...",e.deactivateInstitute.bind(e,a),function(a){f.info("Institute",t.institute.name+" deactivated successfully"),t.setTab("detail"),m(b.instituteId)})}function p(a){e.connectApi(t,"Loading...",e.reactivateInstitute.bind(e,a),function(a){f.info("Institute",t.institute.name+" reactivated successfully"),t.setTab("detail"),m(b.instituteId)})}function q(a,c){e.connectApi(t,"Please wait...",e.activateInstitute.bind(e,a,c),function(a){t.activationResult=a,f.info("Institute",t.institute.name+" activated successfully"),t.setTab("detail"),m(b.instituteId)})}function r(a){e.connectApi(t,"Loading...",e.getExamsForInstitutes.bind(e,a),function(a){t.sharedExams=a})}function s(){e.connectApi(t,"Loading...",e.getInstitutes.bind(e),function(a){t.allInstitutes=a})}var t=this;t.isLoading=!1,t.allInstitutes=null,t.institute={},t.currentTab="detail",t.sharedExams=null,t.settings={passwordTitle:"",password:"",confirmPassword:"",isConfirmPassword:!0},t.activationResult={},t.stats={},t.uploadUrl="/api/institutes/logoupload",i(),t.setTab=function(a){t.currentTab=a,"settings"===t.currentTab&&t.initializeSettings(),"sharedExam"===t.currentTab&&t.loadExamsForInstitute(),"stats"==t.currentTab&&t.loadAllStats(),"logo"==t.currentTab&&t.getCurrentLogo()},t.shareExam=function(){a.go("shareExam",{instituteId:t.institute.id,instituteName:t.institute.name})},t.loadAllStats=function(){1==t.institute.isTableCreated&&k(t.institute.id)},t.edit=function(){a.go("instituteEdit",{instituteId:t.institute.id})},t.goToNewInstitute=function(){a.go("instituteNew")},t.getCurrentLogo=function(){l(t.institute.id)},t.goToEditInstitute=function(b){a.go("instituteEdit",{instituteId:b})},t.loadExamsForInstitute=function(){null==t.sharedExams&&r(t.institute.id)},t.deleteShareExam=function(a){e.connectApi(t,"Deleting...",e.deleteShareExam.bind(e,a.id),function(b){f.info("Exam",a.name+" deleted successfully"),r(t.institute.id)})},t.activate=function(){j()&&q(t.institute.id,t.settings.password)},t.showPasswordScreen=function(){return!(!t.institute.isTableCreated||!t.institute.active)||!t.institute.isTableCreated},t.resetAdminPassword=function(){j()&&n(t.institute.id,t.settings.password)},t.reactivate=function(){p(t.institute.id)},t.deactivate=function(){o(t.institute.id)},t.initializeSettings=function(){t.institute.isTableCreated?t.settings.passwordTitle="Reset Admin Password":(t.settings.password=t.institute.code,t.settings.confirmPassword=t.institute.code,t.settings.passwordTitle="Set Admin Password & Activate")}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("institutes",{url:"/institutes",templateUrl:"app/institute/institute.html",controller:"InstituteCtrl",controllerAs:"vm",superadmin:!0,authenticate:!0}).state("instituteDetail",{url:"/institutes/detail/:instituteId",templateUrl:"app/institute/instituteDetail.html",controller:"InstituteCtrl",controllerAs:"vm",superadmin:!0,authenticate:!0}).state("instituteNew",{url:"/institutes/e",templateUrl:"app/institute/instituteEdit.html",controller:"InstituteEditCtrl",controllerAs:"vm",authenticate:!0,superadmin:!0}).state("instituteEdit",{url:"/institutes/e/:instituteId",templateUrl:"app/institute/instituteEdit.html",controller:"InstituteEditCtrl",controllerAs:"vm",superadmin:!0,authenticate:!0})}]),angular.module("examApp").controller("InstituteEditCtrl",["$state","$stateParams","$location","$log","api","notification",function(a,b,c,d,e,f){function g(){i.editMode=!0,b.instituteId?h(b.instituteId):(i.headerText="New Institute",i.editMode=!1)}function h(a){e.connectApi(i,"Loading...",e.getInstitute.bind(e,a),function(a){i.institute=a,i.headerText="Edit Institute - "+i.institute.name})}var i=this;i.institute={isTableCreated:!1},i.editMode=null,i.headerText=null,i.error="",g(),i.save=function(){i.frm.$invalid||e.connectApi(i,"Saving..",e.saveInstitute.bind(e,i.institute),function(b){var c=i.editMode?" saved":"created";f.success("Institute","Institute "+c+" successfully"),a.go("institutes")})},i.cancel=function(){a.go("institutes")}}]),angular.module("examApp").filter("formatAnswer",function(){return function(a){if(a){if(a.radioAnswer)return a.radioAnswer.toUpperCase();if(a.selectedAnswer){var b=[];return Object.keys(a.selectedAnswer).sort().forEach(function(c){a.selectedAnswer[c]&&b.push(c.toUpperCase())}),b.join(", ")}}}}),angular.module("examApp").filter("formatQuestion",function(){return function(a){if(a)return a.split("\n").join("<br/>").split(" ").join("&nbsp")}}),angular.module("examApp").filter("prepend",function(){return function(a){if(void 0!==a)return String.fromCharCode(65+a)+".  "}}),angular.module("examApp").controller("LaunchCtrl",["$log","$state","$stateParams","$filter","$interval","api","Auth",function(a,b,c,d,e,f,g){function h(){w(c.examId),x.launchStep=0,x.isAdmin=g.isAdmin()}function i(a){for(var b=[],c=0;c<y.length;c++){var d=y[c],e=a[d];e&&b.push({key:d,value:e})}return b}function j(){x.currentQuestion=x.allQuestions[x.currentQuestionIndex],x.currentAnswer=x.allAnswers[x.currentQuestionIndex],x.answerOptions=i(x.currentQuestion)}function k(a){x.allFilteredCorrectArray=_.chunk(a,x.pageSize),x.correctAnswerPage=x.allFilteredCorrectArray[0],x.currentPage=1,x.total=a.length}function l(){f.connectApi(x,"Loading...",f.correctAnswersForPaper.bind(f,x.paper.id),function(a){x.allCorrectAnswer=m(a),k(x.allCorrectAnswer)})}function m(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.answerOptions=i(c),1===c.length)c.selectedAnswer=c.answer;else{var d={};if(c.answer){var e=c.answer.split("");_.forEach(e,function(a){d[a]=!0}),c.selectedAnswer=d}}n(c)}return a}function n(a){_.forEach(a.answerOptions,function(b){1===a[b.key+"Correct"]&&(b.isCorrect=!0),1===a.length?a.selectedAnswer==b.key&&0==a[b.key+"Correct"]&&(b.isIncorrect=!0):a.selectedAnswer&&!0===a.selectedAnswer[b.key]&&0==a[b.key+"Correct"]&&(b.isIncorrect=!0)})}function o(){null===x.paper&&(r(c.examId),s(c.examId))}function p(b){var c=x.allQuestions[b].id,e=x.paper.id,g=x.allAnswers[b],h=d("formatAnswer")(g);h&&(h=_.map(h.toLowerCase().split(","),_.trim).join("")),x.isLoading=!0,f.saveCurrentAnswer({questionId:c,paperId:e,answer:h}).then(function(a){}).catch(function(b){a.error(b)}).finally(function(){x.isLoading=!1})}function q(a){f.connectApi(x,"Computing...",f.getResult.bind(f,a,x.timer.timeTaken),function(a){x.result=a[0]})}function r(a){f.connectApi(x,"Loading...",f.savePaper.bind(f,{examId:a},!0),function(a){x.paper=a[0]})}function s(a){f.connectApi(x,"Loading Questions...",f.getAllQuestionsForLaunch.bind(f,a,!0),function(a){if(0===a.length)return x.launchStep=-1,void(x.error="The are no questions loaded for the exam. If you believe this is a mistake, please contact the administrator");x.launchStep=1,x.allQuestions=a;for(var b=0;b<x.allQuestions.length;b++)x.allAnswers.push(f.getAnswerModel(x.allQuestions[b].id));j(),u()})}function t(){e.cancel(x.timer.reference),x.timer.timeTaken=Math.ceil((60*x.exam.timeAllowed-x.timer.countDownTimer)/60)}function u(){x.timer.countDownTimer=60*x.exam.timeAllowed,x.timer.warning=!1,v(),x.timer.reference=e(v,1e3,x.timer.countDownTimer)}function v(){if(0===--x.timer.countDownTimer)return void x.moveToResult();var a=Math.floor(x.timer.countDownTimer/60),b=x.timer.countDownTimer%60;a<10&&(a="0"+a),b<10&&(b="0"+b),x.timer.formattedTime=a+" min : "+b+" sec",a<5&&(x.timer.warning=!0)}function w(a){f.connectApi(x,"Loading Exam...",f.getExam.bind(f,a),function(a){x.exam=a})}var x=this,y=["a","b","c","d","e","f"];x.exam={},x.allQuestions=[],x.paper=null,x.result=null,x.allCorrectAnswer=[],x.launchStep=0,x.allAnswers=[],x.answerOptions=null,x.isAdmin=!1,x.timer={},x.currentQuestionIndex=0,x.currentQuestion=null,x.currentAnswer=null,h(),x.startExam=function(){o()},x.moveLaunchStep=function(){x.launchStep=x.launchStep+1},x.isPrevious=function(){return 0!==x.currentQuestionIndex},x.isFinish=function(){return!x.isNext()},x.isRadio=function(){return!!x.currentQuestion&&1===x.currentQuestion.len},x.exit=function(){f.connectApi(x,"",f.purgePaper.bind(f,x.paper.id),function(a){}),b.go("main")},x.moveToReview=function(){x.launchStep=2},x.moveToResult=function(){x.launchStep=3,t(),q(x.paper.id)},x.moveToQuestion=function(){x.currentQuestionIndex=x.allQuestions.length-1,x.launchStep=1,j()},x.movePrevious=function(){p(x.currentQuestionIndex),x.currentQuestionIndex>0&&x.currentQuestionIndex--,j()},x.jumpToQuestion=function(a){x.currentQuestionIndex=a,x.launchStep=1,j()},x.moveNext=function(){p(x.currentQuestionIndex),x.currentQuestionIndex+1<x.allQuestions.length?(x.currentQuestionIndex++,j()):x.moveToReview()},x.moveToCorrectAnswer=function(){x.launchStep=4,l()},x.total=0,x.currentPage=-1,x.allFilteredCorrectArray=[],x.correctAnswerPage=[],x.pageSize="50",x.filterType="-1",x.pageChanged=function(){x.correctAnswerPage=x.allFilteredCorrectArray[x.currentPage-1]},x.filterAnswersByText=function(){k(d("filter")(x.allCorrectAnswer,x.filterText))},x.filterByAnswerType=function(){if(-1==x.filterType)return void k(x.allCorrectAnswer);k(d("filter")(x.allCorrectAnswer,{correct:x.filterType}))},x.hidePager=function(){return x.total<=x.pageSize},x.pageSizeChanged=function(){k(x.allCorrectAnswer)}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("launch",{url:"/launch/:examId",templateUrl:"app/launch/launch.html",controller:"LaunchCtrl",controllerAs:"vm"})}]),angular.module("examApp").controller("MainCtrl",["$state","$http","$log","$filter","api","Auth",function(a,b,c,d,e,f){function g(){if(!f.isLoggedIn())return void a.go("login");k(),i(),l.isAdmin=f.isAdmin,l.isSuperAdmin=f.isSuperAdmin}function h(a){l.allExamsChunk=_.chunk(a,m),l.activeExams=l.allExamsChunk[0],l.currentPage=1,l.total=a.length}function i(){e.connectApi(l,"Loading Exams...",e.getAllExams.bind(e),function(a){l.masterListExam=j(a),h(l.masterListExam)})}function j(a){return l.isAdmin()?a:_.filter(a,"active")}function k(){l.isLoading=!0,e.getCategories().then(function(a){l.categories=a}).catch(function(a){e.formatError(l,a)}).finally(function(){l.isLoading=!1})}var l=this,m=10;l.categories=[],l.masterListExam=[],l.allExamsChunk=[[]],l.activeExams=[],l.categoryName="",l.isAdmin=null,l.isSuperAdmin=null,l.searchBoxText="",l.total=0,l.currentPage=-1,g(),l.isSuperAdmin=function(){return f.isSuperAdmin()},l.hidePager=function(){return l.total<=m},l.pageChanged=function(){l.activeExams=l.allExamsChunk[l.currentPage-1]},l.search=function(){l.searchText=l.searchBoxText;var a=d("filter")(l.masterListExam,l.searchText);l.categoryName&&(a=d("filter")(a,{category:l.categoryName})),h(a)},l.filterByCategory=function(a){l.categoryName=a,l.search()}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"vm",authenticate:!0})}]),angular.module("examApp").controller("MassUploadCtrl",["$scope","$timeout","Upload","Auth",function(a,b,c,d){function e(){f.isSuperAdmin=d.isSuperAdmin}var f=this;f.error={},e()}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("massUpload",{url:"/massUpload",templateUrl:"app/massUpload/massUpload.html",controller:"MassUploadCtrl",controllerAs:"vm",authenticate:!0,admin:!0})}]),angular.module("examApp").controller("ShareexamCtrl",["$state","$stateParams","$log","api","notification",function(a,b,c,d,e){function f(){b.examId&&(j.exam={id:b.examId,name:b.examName},h(j.exam.id)),b.instituteId&&(j.institute={id:b.instituteId,name:b.instituteName},i(j.institute.id))}function g(a){return a.instituteId&&a.examId?void d.connectApi(j,"Loading...",d.shareExams.bind(d,a),function(a){if(console.log("****Result****"),console.log(a),a&&a.failureCount>0)return void(j.error="An internal server error has occurred. Please check the server logs to diagnose the error");j.exam.id&&(e.info("Institute Assignments","Institute assigned successfully"),h(j.exam.id)),j.institute.id&&(e.info("Exam Share","Exam shared with institute successfully"),i(j.institute.id))}):void(j.error="Please select atleast 1 row")}function h(a){d.connectApi(j,"Loading...",d.getNewInstitutesForExam.bind(d,a),function(a){j.institutes=a})}function i(a){d.connectApi(j,"Loading...",d.getNewExamsForInstitutes.bind(d,a),function(a){j.exams=a,console.log(a),console.log("here")})}var j=this;j.exam={},j.institutes=null,j.institute={},j.exams=null,f(),j.shareExams=function(){for(var a={instituteId:j.institute.id},b=[],c=0;c<j.exams.length;c++)j.exams[c].isSelected&&b.push(j.exams[c].id);a.examId=b.join(","),g(a)},j.shareInstitutes=function(){for(var a={examId:j.exam.id},b=[],c=0;c<j.institutes.length;c++)j.institutes[c].isSelected&&b.push(j.institutes[c].id);a.instituteId=b.join(","),g(a)},j.cancel=function(){j.exam.id&&a.go("exam",{examId:j.exam.id,tab:"shareInstitute"}),j.institute.id&&a.go("instituteDetail",{instituteId:j.institute.id,tab:"sharedExam"})}}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("shareInstitute",{url:"/share/exam/:examId/:examName",templateUrl:"app/shareexam/shareexam.html",controller:"ShareexamCtrl",controllerAs:"vm",admin:!0}).state("shareExam",{url:"/share/institute/:instituteId/:instituteName",templateUrl:"app/shareexam/shareexam.html",controller:"ShareexamCtrl",controllerAs:"vm",admin:!0})}]),angular.module("examApp").controller("StatsCtrl",["$state","$stateParams","$log","api","notification","Auth",function(a,b,c,d,e,f){function g(){i.isSuperAdmin=f.isSuperAdmin,h()}function h(){d.connectApi(i,"Loading...",d.stats.bind(d,1),function(a){i.stats=a})}var i=this;i.stats={},g()}]),angular.module("examApp").config(["$stateProvider",function(a){a.state("stats",{url:"/stats",templateUrl:"app/stats/stats.html",controller:"StatsCtrl",controllerAs:"vm",admin:!0})}]),angular.module("examApp").factory("Auth",["$log","$window","$location","$rootScope","$http","User","api","$cookieStore","$q",function(a,b,c,d,e,f,g,h,i){function j(){return g.getMyInstitute().then(function(a){m=a})}function k(){return g.getMe().then(function(a){if(null===a)throw Error("User not found in the database");return l=a,a}).catch(function(b){a.error(b)})}var l={},m={};return h.get("token")&&k(),{login:function(b){var c=i.defer(),d=this,f=null;return e.post("/auth/local",{email:b.email,password:b.password,code:b.code}).then(function(a){var b=a.data;h.put("token",b.token)}).then(function(){return k()}).then(function(a){return f=a,j()}).then(function(){c.resolve(f)}).catch(function(b){a.error(b),d.logout(),c.reject(b)}),c.promise},login1:function(b,c){var d=c||angular.noop,g=i.defer();return e.post("/auth/local",{email:b.email,password:b.password}).success(function(a){return h.put("token",a.token),f.get()}).then(function(a){return l=a,g.resolve(l),d()}).error(function(b){return a.error(b),this.logout(),g.reject(b),d(b)}.bind(this)),g.promise},logout:function(){h.remove("token"),l={}},saveToken:function(a,b){h.put("token",a.token),k()},createUser1:function(a,b){var c=b||angular.noop;return this.logout(),f.save(a,function(b){return h.put("token",b.token),l=f.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var d=c||angular.noop;return f.changePassword({id:l._id},{oldPassword:a,newPassword:b},function(a){return d(a)},function(a){return d(a)}).$promise},getCurrentUser:function(){return l},getCurrentInstitute:function(){return m},isLoggedIn:function(){return l.hasOwnProperty("role")},isLoggedInAsync:function(a){l.hasOwnProperty("$promise")?l.$promise.then(function(){a(!0)}).catch(function(){a(!1)}):a(l.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"superadmin"===l.role||"admin"===l.role},isSuperAdmin:function(){return"superadmin"===l.role},getToken:function(){return h.get("token")}}}]),angular.module("examApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}]),angular.module("examApp").service("api",["$http","$log","$q","notification","mockData",function(a,b,c,d,e){function f(a,b){return 404===b.status?void(a.error="The record does not exist in the database. Please refresh and try again"):500===b.status?void(a.error="An internal server error has occurred. Please check the server logs to diagnose the error"):void(a.error=b.data)}this.getExamModel=function(){return{name:"",code:"",description:"",category:"",maxMarks:"",imageId:0,passPercent:45}},this.getAnswerModel=function(a){return{questionId:a,markForReview:!1,selectedAnswer:{},radioAnswer:""}},this.getPaperModel=function(){return{examId:"",userId:"",score:0,isPass:!1}},this.getQuestionModel=function(a){return{examId:a,name:"",questionText:"",a:"Option A",b:"",c:"",d:"",e:"",f:"",active:!0,aCorrect:!1,bCorrect:!1,cCorrect:!1,dCorrect:!1,eCorrect:!1,fCorrect:!1}},this.getQuestion=function(a){var b=e.getQuestionsForExam();return _.find(b,function(b){return b.id==a})},this.getQuestionForExam=function(a){return e.getQuestionsForExam()},this.connectApi=function(a,c,e,g,h){a.isLoading=!0,a.error=null,c&&d.notify(c),e().then(function(a){return g(a)}).catch(function(c){console.log("***Error*****"),console.log(c),b.error(c),f(a,c),h&&h(c)}).finally(function(){a.isLoading=!1,d.hide()})},this.formatError=f,this.delete=function(b){return a.delete(b).then(function(a){return a.data})},this.get=function(b){return a.get(b).then(function(a){return a.data&&a.data.length>=1?a.data[0]:null})},this.getAll=function(b){return a.get(b).then(function(a){return a.data})},this.post=function(b,c){return a.post(b,c).then(function(a){return a.data})},this.put=function(b,c){return a.put(b,c).then(function(a){return a.data})},this.getUsers=function(){return this.getAll("/api/users")},this.getMe=function(){return a.get("/api/users/me").then(function(a){return a.data?a.data:null})},this.getUser=function(a){return this.get("/api/users/"+a)},this.deleteUser=function(a){return this.delete("/api/users/"+a)},this.signUp=function(a){return this.post("/api/users/signup",a)},this.saveUser=function(a){return a.id?this.put("/api/users/"+a.id,a):this.post("/api/users/",a)},this.getProfile=function(b){return b?a.get("/api/users/profile/"+b).then(function(a){return a.data}):a.get("/api/users/myprofile").then(function(a){return a.data})},this.correctAnswersForPaper=function(a){return this.getAll("/api/papers/review/"+a)},this.getPaper=function(b){return a.get("/api/papers/"+b).then(function(a){return a.data})},this.getResult=function(a,b){return this.getAll("/api/papers/result/"+a+"/"+b)},this.savePaper=function(a,b){return b?this.post("/api/papers",a):this.put("/api/papers/"+a.id,a)},this.saveCurrentAnswer=function(b){return a.post("/api/paperAnswers",b).then(function(a){return a.data})},this.purgePaper=function(a){return this.delete("/api/paperAnswers/paper/"+a)},this.getCategories=function(){return a.get("/api/categories").then(function(a){for(var b=a.data,c=[],d=0;d<b.length;d++){var e=b[d];c.push(e.name)}return c})},this.saveCategory=function(b){var c=!0;return b.id&&(c=!1),c?a.post("/api/categories",b).then(function(a){return a.data}):a.put("/api/categories/"+b.id,b).then(function(a){return a.data})},this.deleteCategory=function(a){return this.delete("/api/categories/"+a)},this.getCategory=function(b){return a.get("/api/categories/"+b).then(function(a){return a.data[0]})},this.getCategoriesForAdmin=function(){return a.get("/api/categories").then(function(a){return a.data})},this.saveQuestion=function(a,b){return b?this.post("/api/questions",a):this.put("/api/questions/"+a.id,a)},this.getAllQuestionsForExamDisplay=function(a){return this.getAll("/api/questions/exam/"+a)},this.getAllQuestionsForLaunch=function(a){return this.getAll("/api/questions/exam/launch/"+a)},this.deleteQuestion=function(a){return this.delete("/api/questions/"+a)},this.getQuestion=function(a){return this.get("/api/questions/"+a)},this.saveExam=function(a,b){return b?this.post("/api/exams",a):this.put("/api/exams/"+a.id,a)},this.getExam=function(a){return this.get("/api/exams/"+a)},this.getAllExams=function(){return this.getAll("/api/exams")},this.deleteExam=function(a){return this.delete("/api/exams/"+a)},this.getUsersForExam=function(a){return this.getAll("/api/userExams/exam/"+a)},this.getNewUsersForExam=function(a){return this.getAll("/api/userExams/exam/new/"+a)},this.getExamsForUser=function(a){return this.getAll("/api/userExams/user/"+a)},this.getNewExamsForUser=function(a){return this.getAll("/api/userExams/user/new/"+a)},this.deleteUserExam=function(a){return this.delete("/api/userExams/"+a)},this.assignUsers=function(a){return this.post("/api/userExams/assign",a)},this.getInstitutes=function(){return this.getAll("/api/institutes")},this.getInstitute=function(a){return this.get("/api/institutes/"+a)},this.activateInstitute=function(a,b){return this.post("/api/institutes/activate/"+a,{password:b})},this.resetAdminPassword=function(a,b){return this.post("/api/institutes/resetAdminPassword/"+a,{password:b})},this.getMyInstitute=function(){return this.get("/api/institutes/current/details")},this.getCurrentLogo=function(a){return this.get("/api/institutes/logo/"+a)},this.allStats=function(a){return this.get("/api/institutes/allStats/"+a)},this.stats=function(a){return this.get("/api/institutes/stats/"+a)},this.reactivateInstitute=function(a){return this.post("/api/institutes/reactivate/"+a,{})},this.deactivateInstitute=function(a){return this.post("/api/institutes/deactivate/"+a,{})},this.saveInstitute=function(b){var c=!0;return b.id&&(c=!1),c?a.post("/api/institutes",b).then(function(a){return a.data}):a.put("/api/institutes/"+b.id,b).then(function(a){return a.data})},this.deleteInsitute=function(a){return this.delete("/api/institutes/"+a)},this.getExamsForInstitutes=function(a){return this.getAll("/api/shareExams/institute/"+a)},this.getNewExamsForInstitutes=function(a){return this.getAll("/api/shareExams/institute/new/"+a)},this.getInstitutesForExam=function(a){return this.getAll("/api/shareExams/exam/"+a)},this.getNewInstitutesForExam=function(a){return this.getAll("/api/shareExams/exam/new/"+a)},this.shareExams=function(a){return this.post("/api/shareExams/assign",a)},this.deleteShareExam=function(a){return this.delete("/api/shareExams/"+a)},this.resetPassword=function(a,b){return this.post("/api/users/"+a+"/resetPassword",{password:b})},this.resetPasswordSelf=function(a,b){return this.post("/api/users/resetPasswordSelf",{oldPassword:a,password:b})},this.startBackup=function(){return this.getAll("/templates/backup")};var g;this.updateBackupDate=function(){g=0},this.lastBackup=function(){var b=c.defer();return void 0!==g?b.resolve(g):a.get("/templates/lastBackup").then(function(a){g=a.data.days,b.resolve(g)}),b.promise}}]),angular.module("examApp").service("mockData",function(){this.getActiveExams=function(){return exams},this.getQuestionsForExam=function(){return questions}});var questions=[{id:1,name:"Q 1",questionText:"Which is the best form of entertainment",a:"Option A",b:"Option B",c:"Option C",d:"Option D",e:"Option E",f:"Option F",active:!0,aCorrect:!0,bCorrect:!1,cCorrect:!1,dCorrect:!1,eCorrect:!1,fCorrect:!1,answerLength:2},{id:2,name:"Q 2",questionText:"A Cricket team has how many players",a:"7",b:"8",c:"9",d:"11",active:!0,aCorrect:!0,bCorrect:!1,cCorrect:!1,dCorrect:!1,eCorrect:!1,fCorrect:!1,answerLength:1}],exams=[{id:1,code:"PHY1",imageId:"book1.jpg",name:"Concepts of Physics",category:"Physics",passPercent:60,maxMarks:100,active:!0,timeAllowed:60,description:"Covers Chapter 1 to 10 of the Concepts of Physics Book"},{id:2,imageId:"book2.jpg",code:"BIO2",name:"Biology",category:"Biology",passPercent:30,maxMarks:100,timeAllowed:60,description:"Animal kingdom",active:!0}];angular.module("examApp").directive("adminSideMenu",function(){return{templateUrl:"components/directives/adminSideMenu/adminSideMenu.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("allStats",function(){return{templateUrl:"components/directives/allStats/allStats.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("categoryList",function(){return{templateUrl:"components/directives/categoryList/categoryList.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("drc",function(){return{restrict:"EA",link:function(a,b){b.bind("contextmenu",function(a){a.preventDefault()}),b.bind("mousedown",function(a){a.preventDefault()}),b.bind("mousemove",function(a){a.preventDefault()}),b.addClass("noSelect"),b.bind("keydown",function(a){if(17==(a.which||a.keyCode))return void a.preventDefault()})}}}),angular.module("examApp").directive("examDetail",function(){return{templateUrl:"components/directives/examDetail/examDetail.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("examList",function(){return{templateUrl:"components/directives/examList/examList.html",bindToController:!0,restrict:"E",scope:{lstExam:"="},controllerAs:"vm",controller:["$scope","$state","Modal","Auth",function(a,b,c,d){var e=this;e.launchExam=function(a){b.go("launch",{examId:a})},e.goToExamDetail=function(a){d.isAdmin()&&b.go("exam",{examId:a})},e.editExam=function(a){b.go("examEdit",{examId:a})},e.deleteExam=c.confirm.delete(function(a){})}]}}),angular.module("examApp").directive("import",function(){return{templateUrl:"components/directives/import/import.html",restrict:"EA",scope:{uploadUrl:"@"},controller:["$scope","$log","$timeout","Upload","$http","$window",function(a,b,c,d,e,f){a.complete=!1,a.uploadResult={},a.downloadFile=function(){return f.open("/templates/download/"+a.uploadResult.fileName)},a.uploadFiles=function(b,e){a.f=b,a.errFile=e&&e[0],b&&(b.upload=d.upload({url:a.uploadUrl,method:"POST",file:b,data:{}}),b.upload.then(function(d){c(function(){a.complete=!0,a.uploadResult=d.data,b.result=d.data})},function(b){a.complete=!0,b.status>0&&(a.errorMsg=b.status+": "+b.data)},function(a){b.progress=Math.min(100,parseInt(100*a.loaded/a.total))}))}}]}}),angular.module("examApp").directive("instituteDetail",function(){return{templateUrl:"components/directives/instituteDetail/instituteDetail.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("institutelist",function(){return{templateUrl:"components/directives/instituteList/institutelist.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("instituteSettings",function(){return{templateUrl:"components/directives/instituteSettings/instituteSettings.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("institutelogo",function(){return{templateUrl:"components/directives/institutelogo/institutelogo.html",restrict:"EA",scope:{uploadUrl:"@",currentLogo:"@",instituteid:"@"},controller:["$scope","$log","$timeout","Upload","$http","$window","notification",function(a,b,c,d,e,f,g){a.complete=!1,a.uploadResult={},a.uploadFiles=function(b,e){a.f=b,a.errFile=e&&e[0],b&&(b.upload=d.upload({url:a.uploadUrl,method:"POST",data:{instituteid:a.instituteid,file:b}}),b.upload.then(function(d){c(function(){a.complete=!0,a.uploadResult=d.data,b.result=d.data,200==d.status&&g.info("Institute","Logo uploaded successfully")})},function(b){console.log(b),a.complete=!0,b.status>0?a.errorMsg=b.status+": "+b.data:g.info("Institute","Logo uploaded successfully")},function(a){b.progress=Math.min(100,parseInt(100*a.loaded/a.total))}))}}]}}),angular.module("examApp").directive("launchCorrectAnswer",function(){return{templateUrl:"components/directives/launchCorrectAnswer/launchCorrectAnswer.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("launchPrep",function(){return{templateUrl:"components/directives/launchPrep/launchPrep.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("launchQuestion",function(){return{templateUrl:"components/directives/launchQuestion/launchQuestion.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("launchResult",function(){return{templateUrl:"components/directives/launchResult/launchResult.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("launchReview",function(){return{templateUrl:"components/directives/launchReview/launchReview.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("list",function(){return{templateUrl:"components/directives/list/list.html",restrict:"EA",scope:{records:"=",headerFields:"=",fields:"=",showdelete:"=",showcheckbox:"=",filterText:"@",nameField:"@",titleText:"@",del:"&",deleteText:"@"},bindToController:!0,controllerAs:"vm",compile:function(a,b){b.deleteText||(b.deleteText="Delete")},controller:["$scope","$log","Modal",function(a,b,c){var d=this;d.masterSelected=!1,d.delete=c.confirm.delete(function(a){d.del()(a)}),d.setAll=function(){for(var a=0;a<d.records.length;a++)d.records[a].isSelected=d.masterSelected}}]}}),angular.module("examApp").directive("questionList",function(){return{templateUrl:"components/directives/questionList/questionList.html",restrict:"EA"}}),angular.module("examApp").directive("quizQuestion",function(){return{templateUrl:"components/directives/quizQuestion/quizQuestion.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("rootSideMenu",function(){return{templateUrl:"components/directives/rootSideMenu/rootSideMenu.html",restrict:"EA",link:function(a,b,c){},controller:["$scope","api","Auth",function(a,b,c){a.lastBackup=-1,a.showBackupDays=!1,a.backupClass="badge badge-ok",c.isSuperAdmin()&&b.lastBackup().then(function(b){a.lastBackup=b;var c=a.lastBackup;a.lastBackup>3&&(a.showBackupDays=!0),c>7&&(a.backupClass="badge badge-warning"),c>10&&(a.backupClass="badge badge-danger")})}]}}),angular.module("examApp").controller("selectImageModalController",["$scope","$log",function(a,b){function c(){for(var a=1;a<=18;a++)d.images.push(a)}var d=this;d.images=[],c(),d.selectImage=function(b){a.$close(b)}}]),angular.module("examApp").directive("selectImage",function(){return{templateUrl:"components/directives/selectImage/selectImage.html",restrict:"EA",scope:{selectedImage:"="},bindToController:!0,controllerAs:"vm",controller:["$uibModal","$log",function(a,b){var c,d=this;d.launchModal=function(){c=a.open({templateUrl:"selectImage.html",controller:"selectImageModalController",controllerAs:"vm",bindToController:!0,windowClass:"modal-success"}),c.result.then(function(a){b.log("Inside Directive"+a),d.selectedImage=a})}}]}}),angular.module("examApp").directive("sharedExam",function(){return{templateUrl:"components/directives/sharedExam/sharedExam.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").directive("userlist",function(){return{templateUrl:"components/directives/userlist/userlist.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("examApp").factory("Modal",["$rootScope","$uibModal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{question:function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift(),f=d.shift();b=c({modal:{dismissable:!0,title:"Confirm "+e,html:"<p>Are you sure you want to "+e+" <strong>"+f+"</strong> ?</p>",buttons:[{classes:"btn-success",text:"OK",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-success"),b.result.then(function(b){a.apply(b,d)})}},delete:function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("examApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("examApp").controller("NavbarCtrl",["$scope","$location","Auth",function(a,b,c){function d(){e.isCollapsed=!0,e.isLoggedIn=c.isLoggedIn,e.isAdmin=c.isAdmin,e.getCurrentUser=c.getCurrentUser,e.getCurrentInstitute=c.getCurrentInstitute}var e=this;e.name=function(){var a=c.getCurrentInstitute();return null==a||null==a.name?"Exam Center":a.name},e.contact=function(){var a=c.getCurrentInstitute(),b="";return null==a||null==a.phone?b+="Call Us: 9950072039, 7821932915":b+="Call Us: "+a.phone,null==a||null==a.email?b+=" | Email To: <a href='mailto:rscitsharma@gmail.com'>rscitsharma@gmail.com</a>":b+=" | Email To: <a href="+a.email+">"+a.email+"</a>",b},e.address=function(){var a=c.getCurrentInstitute();return null==a||null==a.address?"D-13, Bapu Nagar Senthi, Road No. 8, Chittorgarh(Raj.)<br/>B-13, S.K. Plaza, Maharana Pratap Setu Marg, Near Head Post Office, Chittorgarh (Raj.) ":a.address},e.logo=function(){var a=c.getCurrentInstitute();return null==a||null==a.logo?"assets/images/logo1.jpg":a.logo},e.logout=function(){c.logout(),b.path("/login")},e.isActive=function(a){return a===b.path()},d()}]),angular.module("examApp").factory("notification",function(){var a={closeButton:!0,timeOut:2e3,positionClass:"toast-top-right"},b={closeButton:!1,extendedTimeOut:0,tapToDismiss:!1,positionClass:"toast-top-center",timeOut:0,preventDuplicates:!1},c=null;return{success:function(b,c){return toastr.success(c,b,a)},error:function(b,c){return toastr.error(c,b,a)},info:function(b,c){return toastr.info(c,b,a)},notify:function(a){c&&c.remove(),c=toastr.info('<i class="fa fa-refresh fa-spin fa-fw"></i>  '+a,null,b)},hide:function(){c&&c.remove()}}}),angular.module("examApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div class=container><div class=row><div class="col-xs-6 col-xs-offset-3" ng-if=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div><div class="col-xs-6 col-xs-offset-3"><div class="panel panel-warning"><div class=panel-heading><i class="fa fa-sign-in" aria-hidden=true></i> Login</div><div class=panel-body><form class=form name=vm.frm ng-submit=vm.login() novalidate><div class=form-group><label>Institute Code</label><input name=code maxlength=40 class=form-control ng-model=vm.user.code required></div><div class=form-group><label>Email</label><input type=email name=email maxlength=255 class=form-control ng-model=vm.user.email required></div><div class=form-group><label>Password</label><input type=password name=password maxlength=255 class=form-control ng-model=vm.user.password required></div><div class="form-group has-error"><p class=help-block ng-show="vm.frm.code.$error.required && vm.frm.$submitted">Please provide the Institute code</p><p class=help-block ng-show="vm.frm.email.$error.required && vm.frm.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="vm.frm.email.$error.email && vm.frm.$submitted">Please enter a valid email.</p></div><div><button ng-disabled=vm.isLoading class="btn btn-warning btn-login" type=submit>Login</button> <a ng-disabled=vm.isLoading class="btn btn-default btn-register" href=/signup>Register</a></div></form></div></div></div></div></div>'),a.put("app/account/settings/settings.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu></div><div class="col-sm-9 col-md-10" ng-cloak=true><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-user" aria-hidden=true></i> Reset Password {{vm.headerText}}</h3></div><div class=col-xs-12><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div><form class=form-horizontal name=vm.frm novalidate><div class=form-group ng-if=vm.isResetPassword ng-class="{\'has-error\': vm.frm.oldPassword.$invalid && (vm.frm.oldPassword.$dirty || vm.frm.$submitted )}"><label for=oldPassword class="col-sm-2 control-label control-required">Current Password</label><div class=col-sm-4><input type=password maxlength=255 name=oldPassword ng-minlength=3 required ng-model=vm.oldPassword class=form-control id=txtOldPassword placeholder=Password><span class=help-block ng-show="vm.frm.oldPassword.$invalid && (vm.frm.oldPassword.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.oldPassword.$error.required>Current Password is required</span></span></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.password.$invalid && (vm.frm.password.$dirty || vm.frm.$submitted )}"><label for=password class="col-sm-2 control-label control-required">Password</label><div class=col-sm-4><input type=password maxlength=255 name=password ng-minlength=3 required ng-model=vm.password class=form-control id=txtPassword placeholder=Password><span class=help-block ng-show="vm.frm.password.$invalid && (vm.frm.password.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.password.$error.required>Password is required</span> <span ng-show=vm.frm.password.$minlength.required>Password must be at least 3 characters.</span></span></div></div><div class=form-group ng-class="{\'has-error\': (vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword)}"><label for=confirmPassword class="col-sm-2 control-label control-required">Confirm Password</label><div class=col-sm-4><input type=password maxlength=255 required name=confirmPassword ng-model=vm.confirmPassword class=form-control id=txtConfirmPassword placeholder="Confirm Password"><span class=help-block ng-show="(vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword)"><span ng-hide=vm.isConfirmPassword>Passwords do not match</span> <span ng-show=vm.frm.confirmPassword.$error.required>Please confirm the password again</span></span></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button ng-click=vm.change() ng-disabled=vm.isLoading type=submit class="btn btn-warning">Save</button> &nbsp; <button ng-click=vm.cancel() ng-disabled=vm.isLoading class="btn btn-default">Cancel</button></div></div></form></div></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div class=row><div class="col-xs-6 col-xs-offset-3" ng-cloak=true><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert><uib-alert type=success class=text-center ng-show=vm.success><span class="glyphicon glyphicon glyphicon glyphicon-ok"></span> <span>Your user has been created.<br></span></uib-alert><div class="panel panel-warning"><div class=panel-heading ng-cloak=true><i class="fa fa-user-plus" aria-hidden=true></i> Sign up</div><div class=panel-body><div class="col-xs-12 text-center" ng-show=vm.success>Please contact administrator to activate you as user.<br></div><form class=form name=vm.frm novalidate ng-hide=vm.success><div class=form-group ng-class="{ \'has-success\': vm.frm.name.$valid &&  vm.frm.$submitted,\n                                            \'has-error\': vm.frm.name.$invalid && vm.frm.$submitted }"><label>Name</label><input maxlength=255 name=name class=form-control ng-model=vm.user.name required><p class=help-block ng-show="vm.frm.name.$error.required && vm.frm.$submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': vm.frm.email.$valid && vm.frm.$submitted,\n                                            \'has-error\': vm.frm.email.$invalid && vm.frm.$submitted }"><label>Email</label><input type=email maxlength=255 name=email class=form-control ng-model=vm.user.email required><p class=help-block ng-show="vm.frm.email.$error.email && vm.frm.$submitted">Email address is invalid</p><p class=help-block ng-show="vm.frm.email.$error.required && vm.frm.$submitted">Please provide your email address</p></div><div class=form-group ng-class="{ \'has-success\': vm.frm.code.$valid && vm.frm.$submitted,\n                                            \'has-error\': vm.frm.code.$invalid && vm.frm.$submitted }"><label>Institute Code</label><input maxlength=255 name=code class=form-control ng-model=vm.user.code required><p class=help-block><i>Please contact your institute administrator to get the institute code</i></p><p class=help-block ng-show="vm.frm.code.$error.required && vm.frm.$submitted">Please provide a valid institute code</p></div><div class=form-group ng-class="{\'has-success\': vm.frm.password.$valid && vm.frm.$submitted,\n                                            \'has-error\': vm.frm.password.$invalid && vm.frm.$submitted }"><label>Password</label><input type=password maxlength=255 required name=password class=form-control ng-model=vm.user.password ng-minlength=3><p class=help-block ng-show="(vm.frm.password.$error.minlength || vm.frm.password.$error.required) && vm.frm.$submitted">Password must be at least 3 characters.</p></div><div class=form-group ng-class="{\'has-success\': vm.frm.confirmPassword.$valid && vm.frm.$submitted,\n                                            \t\t\t\'has-error\': (vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword) }"><label>Confirm Password</label><input type=password maxlength=255 required name=confirmPassword class=form-control ng-model=vm.user.confirmPassword><p class=help-block ng-show="(vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword)"><span ng-hide=vm.isConfirmPassword>Passwords do not match</span> <span ng-show=vm.frm.confirmPassword.$error.required>Please confirm the password again</span></p></div><div class=text-center><button class="btn btn-warning btn-register btn-lg" ng-click=vm.register() type=submit>Sign up</button></div></form></div></div></div></div></div>'),a.put("app/account/users/userEdit.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10" ng-cloak=true><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-user" aria-hidden=true></i> {{vm.headerText}}</h3></div><div class=col-xs-12><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert><form class=form-horizontal name=vm.frm novalidate><div class=form-group ng-class="{\'has-error\': vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted )}"><label for=name class="col-sm-2 control-label control-required">Name</label><div class=col-sm-4><input maxlength=255 name=name required ng-model=vm.user.name class=form-control id=txtUserName placeholder=Name><span class=help-block ng-show="vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.name.$error.required>User Name is required</span></span></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.email.$invalid && (vm.frm.email.$dirty || vm.frm.$submitted )}"><label for=email class="col-sm-2 control-label control-required">Email</label><div class=col-sm-4><input type=email maxlength=255 name=email required ng-model=vm.user.email class=form-control id=txtEmail placeholder=Email><span class=help-block ng-show="vm.frm.email.$invalid && (vm.frm.email.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.email.$error.required>Email is required</span> <span ng-show=vm.frm.email.$error.email>Invalid Email</span></span></div></div><div class=form-group ng-if=!vm.editMode ng-class="{\'has-error\': vm.frm.password.$invalid && (vm.frm.password.$dirty || vm.frm.$submitted )}"><label for=password class="col-sm-2 control-label control-required">Password</label><div class=col-sm-4><input type=password maxlength=255 name=password ng-minlength=3 required ng-model=vm.user.password class=form-control id=txtPassword placeholder=Password><span class=help-block ng-show="vm.frm.email.$invalid && (vm.frm.email.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.password.$error.required>Password is required</span> <span ng-show=vm.frm.password.$minlength.required>Password must be at least 3 characters.</span></span></div></div><div class=form-group ng-if=!vm.editMode ng-class="{\'has-error\': (vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword)}"><label for=confirmPassword class="col-sm-2 control-label control-required">Confirm Password</label><div class=col-sm-4><input type=password maxlength=255 required name=confirmPassword ng-model=vm.confirmPassword class=form-control id=txtConfirmPassword placeholder="Confirm Password"><span class=help-block ng-show="(vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword)"><span ng-hide=vm.isConfirmPassword>Passwords do not match</span> <span ng-show=vm.frm.confirmPassword.$error.required>Please confirm the password again</span></span></div></div><div class=form-group><label for=chkActive class="col-sm-2 control-label">Active</label><div class="col-sm-4 checkbox"><label><input type=checkbox ng-model=vm.user.active ng-true-value=1 ng-false-value=0></label></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button ng-click=vm.save() ng-disabled=vm.isLoading type=submit class="btn btn-warning">Save</button> &nbsp; <button ng-click=vm.cancel() ng-disabled=vm.isLoading class="btn btn-default">Cancel</button></div></div></form></div></div></div></div></div>'),a.put("app/account/users/userList.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-users"></i> All Users</h3></div></div><div class=row><div class=col-xs-12 ng-show=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div></div><div class=row><div class=col-xs-12><div class="panel panel-default text-center"><div class=panel-heading><button class="btn btn-warning" ng-click=vm.goToNewUser()>New User</button></div><userlist></userlist></div></div></div></div></div></div>'),a.put("app/account/users/userProfile.html",'<div class=container-fluid><div class=row><div class="col-xs-10 col-xs-offset-1"><h3 class=sub-header><i class="fa fa-user"></i> Profile</h3><div class="panel panel-default"><div class=panel-heading><div class=pull-left><b>Details</b></div><div class=text-center><a class="btn btn-warning" href=javascript:void(0) ng-click=vm.resetPassword()>Reset Password</a></div></div><div class=panel-body><table class="table table-condensed"><tr><td width=40% align=right><b>Name</b></td><td>{{vm.user.name}}</td></tr><tr><td width=40% align=right><b>Email</b></td><td>{{vm.user.email}}</td></tr></table></div></div></div></div><div class=row ng-if="vm.isAdmin() && vm.user.role == \'user\'"><div class="col-xs-10 col-xs-offset-1"><h3 class=sub-header><i class="glyphicon glyphicon-lock"></i> Assigned Exams</h3><div class="panel panel-default"><div class="panel-heading text-center"><button ng-click=vm.assignExam() type=submit class="btn btn-warning">Add Exam</button></div><div class=panel-body><list records=vm.exams showdelete=true del=vm.deleteUserExam name-field=name fields="[\'name\',\'code\',\'category\']" filter-text="Filter By Exam name or Code" header-fields="[\'Name\',\'Code\',\'Category\']"></list></div></div></div></div><div class=row><div class="col-xs-10 col-xs-offset-1"><h3 class=sub-header><i class="fa fa-list"></i> Completed Exams</h3><div class="panel panel-default"><div class=panel-body><table class="table table-condensed"><thead><tr><th>Exam</th><th>Max Marks</th><th>Pass Percentage</th><th>Date Completed</th><th>Score</th><th>Score Percent</th><th>Time Taken</th><th>Result</th></tr></thead><tbody><tr ng-if="vm.user.exams.length === 0"><td colspan=8>No records to display</td></tr><tr ng-repeat="exam in vm.user.exams"><td>{{exam.name}}</td><td align=center>{{exam.maxMarks}}</td><td align=center>{{exam.passPercent}}%</td><td align=center>{{exam.lastModifiedDate | date }}</td><td align=center>{{exam.computedScore}}</td><td align=center>{{exam.percent}}%</td><td align=center>{{exam.timeTaken}} Min(s)</td><td><span ng-show="exam.result == 0" class="text text-danger"><i class="fa fa-times" aria-hidden=true></i> <b>Fail</b></span> <span ng-hide="exam.result == 0" class="text text-success"><i class="fa fa-check" aria-hidden=true></i> <b>Pass</b></span></td></tr></tbody></table></div></div></div></div><div class=row><div class=col-xs-12></div></div></div>'),a.put("app/admin/admin.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class=list-group><li class=list-group-item ng-repeat="user in users"><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right"></span></a></li></ul></div>'),a.put("app/assignuser/assignuser.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header ng-if=vm.exam.id><i class="fa fa-university" aria-hidden=true></i> {{vm.exam.name}} - Assign Users</h3><h3 class=sub-header ng-if=vm.user.id><i class="fa fa-user" aria-hidden=true></i> {{vm.user.name}} - Assign Exams</h3></div><div class=col-xs-12 ng-if=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div></div><div class=row><div class=col-xs-12><div class="panel panel-default text-center" ng-if=vm.exam.id><div class=panel-heading><button ng-click=vm.saveUsers() type=submit class="btn btn-warning">Save Users</button> <button ng-click=vm.cancel() class="btn btn-default">Cancel</button></div><list title-text="Unassigned users for the exam" showdelete=false showcheckbox=true records=vm.users name-field=name fields="[\'name\',\'email\']" filter-text="Filter By User name or Email" header-fields="[\'Name\',\'Email\']"></list></div><div class="panel panel-default text-center" ng-if=vm.user.id><div class=panel-heading><button ng-click=vm.saveExams() type=submit class="btn btn-warning">Save Exams</button> <button ng-click=vm.cancel() class="btn btn-default">Cancel</button></div><list title-text="Unassigned exams for the users" showdelete=false showcheckbox=true records=vm.exams name-field=name fields="[\'name\',\'code\',\'category\']" filter-text="Filter By Exam name or Code" header-fields="[\'Name\',\'Code\',\'Category\']"></list></div></div></div></div></div></div>'),a.put("app/backup/backup.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-cloud-download" aria-hidden=true></i> Backup</h3></div></div><div class=row><div class=col-xs-12><div class="panel panel-warning"><div class=panel-heading><b><i class="fa fa-university" aria-hidden=true></i> Backup Database</b></div><div class=panel-body><div class=text-center><div class=col-xs-12 ng-show=vm.message><uib-alert type=danger ng-if="vm.icon == \'danger\'" class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.message}}</span></uib-alert><uib-alert type=success ng-if="vm.icon == \'success\'" class=text-center><span class="glyphicon glyphicon glyphicon glyphicon-ok"></span> <span>{{vm.message}}</span></uib-alert></div><button class="btn btn-warning" ng-click=vm.startBackup()>Start Backup</button><br><p ng-if=vm.fileName><br>Backup file is ready <a target=_blank ng-href=/templates/download/{{vm.fileName}}>Download</a></p></div></div></div></div></div></div></div></div>'),a.put("app/category/category.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10" ng-cloak=true>\x3c!-- Edit / Create Mode --\x3e<div class=row ng-show=vm.editMode><div class=col-xs-12><h3 class=sub-header><i class="fa fa-tags" aria-hidden=true></i> {{vm.headerText}}</h3></div><div class=col-xs-12><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert><form class=form-horizontal name=vm.frm novalidate><div class=form-group ng-class="{\'has-error\': vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted )}"><label for=name class="col-sm-2 control-label control-required">Name</label><div class=col-sm-4><input maxlength=80 name=name required ng-model=vm.category.name class=form-control id=txtCategoryName placeholder=Name><span class=help-block ng-show="vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.name.$error.required>Category Name is required</span></span></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button ng-click=vm.save() ng-disabled=vm.isLoading type=submit class="btn btn-warning">Save</button> &nbsp; <button ng-click=vm.cancel() ng-disabled=vm.isLoading class="btn btn-default">Cancel</button></div></div></form></div></div>\x3c!-- All Category Mode ---\x3e<div class=row ng-hide=vm.editMode><div class=col-xs-12><h3 class=sub-header><i class="fa fa-tags" aria-hidden=true></i> All Category</h3></div><div class=col-xs-12><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert><div class="panel panel-default"><div class="panel-heading text-center"><button class="btn btn-warning" ng-click=vm.addCategory()>New Category</button></div><div class=panel-body><table class="table table-condensed"><thead><tr><th width=10%>Action</th><th>Name</th></tr></thead><tbody><tr ng-repeat="category in vm.allCategory"><td><a href=javascript:void(0) ui-sref="categoryEdit({categoryId: category.id})">Edit</a> | <a href=javascript:void(0) ng-click=vm.delete(category.name,category)>Delete</a></td><td>{{category.name}}</td></tr></tbody></table></div></div></div></div></div></div></div>'),a.put("app/exam/exam.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-university" aria-hidden=true></i> {{vm.headerText()}}</h3></div><div class=col-xs-12 ng-if=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div><form class=form-horizontal name=vm.frm novalidate><div class=form-group ng-class="{\'has-error\': vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted )}"><label for=txtExamName class="col-sm-2 control-label control-required">Name</label><div class=col-sm-4><input name=name maxlength=255 required ng-model=vm.exam.name class=form-control id=txtExamName placeholder=Name><span class=help-block ng-show="vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.name.$error.required>Exam Name is required</span></span></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.code.$invalid && (vm.frm.code.$dirty || vm.frm.$submitted )}"><label for=txtExamCode class="col-sm-2 control-label control-required" ng-class="{\'has-error\': vm.frm.code.$invalid && (vm.frm.code.$dirty || vm.frm.$submitted )}">Code</label><div class=col-sm-4><input name=code maxlength=255 required class=form-control ng-model=vm.exam.code id=txtExamCode placeholder="Exam Code for Identification"><span class=help-block ng-show="vm.frm.code.$invalid && (vm.frm.code.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.code.$error.required>Exam Code is required</span></span></div></div><div class=form-group><label for=chkActive class="col-sm-2 control-label">Active</label><div class="col-sm-4 checkbox"><label><input type=checkbox ng-model=vm.exam.active ng-true-value=1 ng-false-value=0></label></div></div><div class=form-group><label for=selExamCategory class="col-sm-2 control-label">Category</label><div class=col-sm-4><select class=form-control ng-model=vm.exam.category><option value="">--None--</option><option ng-repeat="option in vm.category" value={{option}}>{{option}}</option></select></div></div><div class=form-group><label for=txtExamDescription class="col-sm-2 control-label">Description</label><div class=col-sm-4><textarea rows=6 maxlength=1024 class=form-control ng-model=vm.exam.description id=txtExamCode placeholder="Description of the Exam"></textarea></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.maxMarks.$invalid && (vm.frm.maxMarks.$dirty || vm.frm.$submitted )}"><label for=maxMarks class="col-sm-2 control-label control-required">Maximum Marks</label><div class=col-sm-4><input type=number name=maxMarks required class=form-control ng-model=vm.exam.maxMarks id=txtMaxMarks placeholder="Maximum marks a user can obtain"><span class=help-block ng-show="vm.frm.maxMarks.$invalid && (vm.frm.maxMarks.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.maxMarks.$error.required>Maximum Marks is required</span> <span ng-show=vm.frm.maxMarks.$error.number>Invalid Number</span></span></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.passPercent.$invalid && (vm.frm.passPercent.$dirty || vm.frm.$submitted )}"><label for=passPercent class="col-sm-2 control-label control-required">Pass Percentage</label><div class=col-sm-4><input type=number min=1 max=100 name=passPercent required class=form-control ng-model=vm.exam.passPercent id=txtPassPercent placeholder="Minimum passing marks for passing the exam"><span class=help-block ng-show="vm.frm.passPercent.$invalid && (vm.frm.passPercent.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.passPercent.$error.required>Pass Percentage is required</span> <span ng-show=vm.frm.passPercent.$error.number>Invalid Number</span></span></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.examTime.$invalid && (vm.frm.examTime.$dirty || vm.frm.$submitted )}"><label for=examTime class="col-sm-2 control-label control-required">Time in Minutes</label><div class=col-sm-4><input type=number name=examTime required class=form-control ng-model=vm.exam.timeAllowed id=txtExamTime placeholder="Total time allowed to complete the exam"><span class=help-block ng-show="vm.frm.examTime.$invalid && (vm.frm.examTime.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.examTime.$error.required>Time in Minutes is required</span> <span ng-show=vm.frm.examTime.$error.number>Invalid Number</span></span></div></div><div class=form-group><label for=btnDisplayImage class="col-sm-2 control-label">Display Image</label><div class=col-sm-4><img class=img-thumbnail style=padding:30px ng-src=assets/images/{{vm.exam.imageId}}.png> <span>&nbsp;</span><select-image selected-image=vm.exam.imageId></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button ng-click=vm.save() ng-disabled=vm.isLoading type=submit class="btn btn-warning">Save</button> &nbsp; <button ng-click=vm.cancel() ng-disabled=vm.isLoading class="btn btn-default">Cancel</button></div></div></form></div></div></div></div>'),a.put("app/exam/examDetail.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-university" aria-hidden=true></i> {{vm.exam.name}}</h3></div></div><div class=row><div class=col-xs-12>\x3c!-- Nav tabs --\x3e<ul class="nav nav-tabs" role=tablist><li role=presentation ng-class="{active: vm.currentTab == \'detail\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'detail\')" aria-controls=detail role=tab>Detail</a></li><li role=presentation ng-class="{active: vm.currentTab == \'question\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'question\')" aria-controls=question role=tab>Questions</a></li><li role=presentation ng-class="{active: vm.currentTab == \'user\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'user\')" aria-controls=user role=tab>Users</a></li><li role=presentation ng-show=vm.isSuperAdmin() ng-class="{active: vm.currentTab == \'shareInstitute\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'shareInstitute\')" aria-controls="share with Institute" role=tab>Share</a></li></ul></div></div><div class=row><div class=col-xs-12 ng-show=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div></div><div class=row>\x3c!-- Tab panes --\x3e<div class="tab-content col-xs-12" style=margin-top:10px><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'detail\'}" id=detail><div class="panel panel-default text-center"><div class=panel-heading><button ng-click=vm.edit() type=submit class="btn btn-warning">Edit</button> &nbsp; <button ng-click=vm.launch(vm.exam.id) class="btn btn-warning">Launch</button>&nbsp; <button ng-click=vm.delete(vm.exam.name,vm.exam) class="btn btn-default">Delete</button></div><div class=panel-body><exam-detail exam=vm.exam></exam-detail></div></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'question\'}" id=question><div class="panel panel-default text-center"><div class=panel-heading><button ng-click=vm.addQuestion() type=submit class="btn btn-warning">Add Question</button></div><question-list questions=vm.questions></question-list></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'shareInstitute\'}" id=shareInstitute><div class="panel panel-default text-center"><div class=panel-heading><button ng-click=vm.shareExam() type=submit class="btn btn-warning">Share With Institute</button></div><list title-text="Institute With this Exam is shared" showdelete=true delete-text=Unshare showcheckbox=false records=vm.institutes del=vm.deleteShareExam name-field=name fields="[\'name\',\'code\',\'description\']" filter-text="Filter By Exam name or code" header-fields="[\'Name\',\'Code\',\'Description\']"></list></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'user\'}" id=user><div class="panel panel-default text-center"><div class=panel-heading><button ng-click=vm.assignUser() type=submit class="btn btn-warning">Add User</button></div><list title-text="User assigned to the exam" showdelete=true showcheckbox=false records=vm.users del=vm.deleteUser name-field=name fields="[\'name\',\'email\']" filter-text="Filter By User name or Email" header-fields="[\'Name\',\'Email\']"></list></div></div></div></div></div></div></div>'),a.put("app/exam/question.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu></div><div class="col-sm-9 col-md-10">\x3c!----------------------Question Editor-----------------\x3e<div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-question-circle-o" aria-hidden=true></i> {{vm.headerText()}}</h3></div><div class=col-xs-12 ng-show=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div><form class=form-horizontal name=vm.frm novalidate><div class=form-group ng-class="{\'has-error\': vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted )}"><label for=name class="col-sm-2 control-label control-required">Name</label><div class=col-sm-4><input maxlength=255 required name=name ng-model=vm.question.name class=form-control id=txtQuestionName placeholder=Name><span class=help-block ng-show="vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.name.$error.required>Question Name is required</span></span></div></div><div class=form-group ng-class="{\'has-error\': vm.frm.questionText.$invalid && (vm.frm.questionText.$dirty || vm.frm.$submitted )}"><label for=txtQuestionText class="col-sm-2 control-label control-required">Question Text</label><div class=col-sm-4><textarea rows=6 maxlength=5000 required name=questionText class=form-control ng-model=vm.question.questionText id=txtQuestionText placeholder="Question Text"></textarea><span class=help-block ng-show="vm.frm.questionText.$invalid && (vm.frm.questionText.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.questionText.$error.required>Question Text is required</span></span></div></div><div class=form-group><label for=chkActive class="col-sm-2 control-label">Active</label><div class=col-sm-10><div class=checkbox><label><input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=vm.question.active></label></div></div></div><div class=form-group><label for=txtOptionA class="col-sm-2 control-label">A.</label><div class=col-sm-4><textarea rows=3 maxlength=1024 class=form-control ng-model=vm.question.a id=txtOptionA placeholder="Answer Choice Text for Option A"></textarea></div></div><div class=form-group><label for=chkACorrect class="col-sm-2 control-label">A Correct</label><div class=col-sm-10><div class=checkbox><label><input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=vm.question.aCorrect><i class=small>Check If the A anwer is a correct answer</i></label></div></div></div><div class=form-group><label for=txtOptionB class="col-sm-2 control-label">B.</label><div class=col-sm-4><textarea rows=3 maxlength=1024 class=form-control ng-model=vm.question.b id=txtOptionB placeholder="Answer Choice Text for Option B"></textarea></div></div><div class=form-group><label for=chkBCorrect class="col-sm-2 control-label">B Correct</label><div class=col-sm-10><div class=checkbox><label><input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=vm.question.bCorrect><i class=small>Check If the B anwer is a correct answer</i></label></div></div></div><div class=form-group><label for=txtOptionC class="col-sm-2 control-label">C.</label><div class=col-sm-4><textarea rows=3 maxlength=1024 class=form-control ng-model=vm.question.c id=txtOptionC placeholder="Answer Choice Text for Option C"></textarea></div></div><div class=form-group><label for=chkCCorrect class="col-sm-2 control-label">C Correct</label><div class=col-sm-10><div class=checkbox><label><input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=vm.question.cCorrect><i class=small>Check If the C anwer is a correct answer</i></label></div></div></div><div class=form-group><label for=txtOptionD class="col-sm-2 control-label">D.</label><div class=col-sm-4><textarea rows=3 maxlength=1024 class=form-control ng-model=vm.question.d id=txtOptionD placeholder="Answer Choice Text for Option D"></textarea></div></div><div class=form-group><label for=chkDCorrect class="col-sm-2 control-label">D Correct</label><div class=col-sm-10><div class=checkbox><label><input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=vm.question.dCorrect><i class=small>Check If the D anwer is a correct answer</i></label></div></div></div><div class=form-group><label for=txtOptionE class="col-sm-2 control-label">E.</label><div class=col-sm-4><textarea rows=3 maxlength=1024 class=form-control ng-model=vm.question.e id=txtOptionE placeholder="Answer Choice Text for Option E"></textarea></div></div><div class=form-group><label for=chkECorrect class="col-sm-2 control-label">E Correct</label><div class=col-sm-10><div class=checkbox><label><input type=checkbox ng-true-value=1 ng-false-value=0 ng-model=vm.question.eCorrect><i class=small>Check If the E anwer is a correct answer</i></label></div></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button ng-click=vm.save() ng-disabled=vm.isLoading type=submit class="btn btn-warning">Save</button> &nbsp; <button ng-click=vm.cancel() ng-disabled=vm.isLoading class="btn btn-default">Cancel</button></div></div></form></div></div></div></div>'),a.put("app/exam/questionDetail.html",'<table class="table table-condensed table-responsive"><thead><th>Action</th><th>Name</th><th>Question Text</th></thead><tbody><tr ng-repeat="question in vm.questions"><td>Edit | Delete</td><td>{{question.name}}</td><td>{{question.questionText}}</td></tr></tbody></table>'),a.put("app/institute/institute.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-money"></i> All Institutes</h3></div></div><div class=row><div class=col-xs-12><div class="panel panel-default text-center"><div class=panel-heading><button class="btn btn-warning" ng-click=vm.goToNewInstitute()>New Institute</button></div><institutelist></institutelist></div></div></div></div></div></div>'),a.put("app/institute/instituteDetail.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-money" aria-hidden=true></i> {{vm.institute.name}}</h3></div></div><div class=row><div class=col-xs-12><ul class="nav nav-tabs" role=tablist><li role=presentation ng-class="{active: vm.currentTab == \'detail\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'detail\')" aria-controls=detail role=tab>Detail</a></li><li role=presentation ng-class="{active: vm.currentTab == \'logo\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'logo\')" aria-controls="Set Logo" role=tab>Logo</a></li><li role=presentation ng-class="{active: vm.currentTab == \'sharedExam\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'sharedExam\')" aria-controls="Shared Exam" role=tab>Shared Exam</a></li><li role=presentation ng-class="{active: vm.currentTab == \'stats\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'stats\')" aria-controls=Stats role=tab>Stats</a></li><li role=presentation ng-class="{active: vm.currentTab == \'settings\'}"><a href=javascript:void(0) ng-click="vm.setTab(\'settings\')" aria-controls=Settings role=tab>Settings</a></li></ul></div></div><div class=row><div class=col-xs-12 ng-show=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div></div><div class=row><div class="tab-content col-xs-12" style=margin-top:10px><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'detail\'}" id=detail><div class="panel panel-default text-center"><div class=panel-heading><button ng-click=vm.edit() type=submit class="btn btn-warning">Edit</button> &nbsp;</div><div class=panel-body><institute-detail institute=vm.institute></institute-detail></div></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'logo\'}" id=detail><div class="panel panel-default text-center"><div class=panel-heading><b>Upload Logo</b></div><div><institutelogo instituteid={{vm.institute.id}} current-logo={{vm.logo}} upload-url={{vm.uploadUrl}}></institutelogo></div></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'sharedExam\'}" id=question><div class="panel panel-default text-center"><div class=panel-heading><button ng-click=vm.shareExam() type=submit class="btn btn-warning">Share Exam</button></div><list title-text="Exams assigned to the Institute" showdelete=true showcheckbox=false records=vm.sharedExams del=vm.deleteShareExam name-field=name fields="[\'name\',\'code\',\'category\']" filter-text="Filter By Exam name or code" header-fields="[\'Name\',\'Code\',\'Category\']"></list></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'stats\'}" id=stats><div class="panel panel-default text-center"><all-stats></all-stats></div></div><div role=tabpanel class=tab-pane ng-class="{active: vm.currentTab == \'settings\'}" id=user><div class="panel panel-default text-left"><div class=panel-heading><b>Institute Settings</b></div><institute-settings></institute-settings></div></div></div></div></div></div></div>'),a.put("app/institute/instituteEdit.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu></div><div class="col-sm-9 col-md-10" ng-cloak=true>\x3c!-- Edit / Create Mode --\x3e<div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-money" aria-hidden=true></i> {{vm.headerText}}</h3></div><div class=col-xs-12><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert><form class=form-horizontal name=vm.frm novalidate><div class=form-group ng-class="{\'has-error\': vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted )}"><label for=name class="col-sm-2 control-label control-required">Name</label><div class=col-sm-4><input maxlength=255 name=name required ng-model=vm.institute.name class=form-control id=txtInstituteName placeholder=Name><span class=help-block ng-show="vm.frm.name.$invalid && (vm.frm.name.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.name.$error.required>Institute Name is required</span></span></div></div><div class=form-group ng-if=vm.institute.isTableCreated><label for=code class="col-sm-2 control-label control-required">Code</label><div class=col-sm-4>{{vm.institute.code}} <i class=small>Code is not editable, after activation</i></div></div><div class=form-group ng-if=!vm.institute.isTableCreated ng-class="{\'has-error\': vm.frm.code.$invalid && (vm.frm.code.$dirty || vm.frm.$submitted )}"><label for=code class="col-sm-2 control-label control-required">Code</label><div class=col-sm-4><input maxlength=255 name=code required ng-model=vm.institute.code class=form-control id=txtCode placeholder="Short 3-4 Code used in Login screen"><span class=help-block ng-show="vm.frm.code.$invalid && (vm.frm.code.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.code.$error.required>Code is required</span></span></div></div><div class=form-group><label for=phone class="col-sm-2 control-label">Phone</label><div class=col-sm-4><input maxlength=1024 name=phone ng-model=vm.institute.phone class=form-control id=txtInstitutePhone placeholder="Institute Phone Number separate multiple phone numbers by comma"></div></div><div class=form-group><label for=email class="col-sm-2 control-label">Email</label><div class=col-sm-4><input maxlength=1024 name=phone ng-model=vm.institute.email class=form-control id=txtInstitutePhone placeholder="Contact Person Email"></div></div><div class=form-group><label for=txtAddress class="col-sm-2 control-label">Address</label><div class=col-sm-4><textarea rows=6 maxlength=1024 class=form-control ng-model=vm.institute.address id=txtAddress placeholder="Institute Address"></textarea><i class=small>Displayed in Footer</i></div></div><div class=form-group><label for=txtDescription class="col-sm-2 control-label">Description</label><div class=col-sm-4><textarea rows=6 maxlength=1024 class=form-control ng-model=vm.institute.description id=txtDescription placeholder="Any notes or description of the Institute"></textarea><i class=small>A new insitute needs to be activated before being used</i></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><button ng-click=vm.save() ng-disabled=vm.isLoading type=submit class="btn btn-warning">Save</button> &nbsp; <button ng-click=vm.cancel() ng-disabled=vm.isLoading class="btn btn-default">Cancel</button></div></div></form></div></div></div></div></div>'),a.put("app/launch/launch.html",'<div class=container-fluid><div class=row><div class="col-xs-10 col-xs-offset-1"><h3 class=sub-header><i class="fa fa-university" aria-hidden=true></i> {{vm.exam.name}}</h3></div><div class="col-xs-10 col-xs-offset-1" ng-show=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div>\x3c!--Main Panel---\x3e<div class="col-xs-10 col-xs-offset-1" ng-cloak="">\x3c!--- Step 0 Prep Launch ---\x3e<launch-prep ng-show="(vm.launchStep == 0)"></launch-prep>\x3c!--- Step 1 Show Questions ---\x3e<launch-question ng-show="(vm.launchStep == 1)"></launch-question>\x3c!--- Step 2 Show Questions for Review ---\x3e<launch-review ng-show="(vm.launchStep == 2)"></launch-review>\x3c!--- Step 3 Show Results ---\x3e<launch-result ng-show="(vm.launchStep == 3)"></launch-result>\x3c!-- Step 4 Show Review Page ---\x3e<launch-correct-answer ng-show="(vm.launchStep == 4)"></launch-correct-answer>\x3c!-- Step 5 Invalid Page --\x3e<div ng-if="(vm.launchStep == -1)" class=text-center><button class="btn btn-warning btn-lg" ng-click=vm.exit()><i class="fa fa-external-link" aria-hidden=true></i> Exit Exam</button></div></div>\x3c!--End of Main Panel--\x3e</div></div>'),a.put("app/main/main.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar" ng-cloak=""><category-list lst-all-category=vm.categories></category-list><admin-side-menu ng-show=vm.isAdmin()></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10">\x3c!----------First Row, showing the Input Group--------\x3e<div class=row><div class="col-xs-9 col-xs-offset-1 input-group"><form class=form-horizontal><div class=input-group><input ng-model=vm.searchBoxText placeholder="Search By Exam Code,Name or Description" class="form-control input-lg"><span class=input-group-btn><button class="btn btn-warning btn-lg" ng-click=vm.search() id=btnSearch type=submit><i class="glyphicon glyphicon-search"></i> Search!</button></span></div></form><div ng-show=vm.categoryName><h5>Filtered By Category <b>"{{vm.categoryName}}"</b></h5></div></div></div>\x3c!----------------------Exam List-----------------\x3e<div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-university" aria-hidden=true></i> All Avaliable Exams</h3></div><div class="col-xs-12 text-center" ng-hide=vm.hidePager()><uib-pagination boundary-links=true force-ellipses=true max-size=5 rotate=true previous-text=&lsaquo; next-text=&rsaquo; total-items=vm.total ng-model=vm.currentPage ng-change=vm.pageChanged()></uib-pagination></div><div class=col-xs-12><exam-list lst-exam=vm.activeExams></exam-list></div><div class="col-xs-12 text-center" ng-hide=vm.hidePager()><uib-pagination boundary-links=true force-ellipses=true max-size=5 rotate=true previous-text=&lsaquo; next-text=&rsaquo; total-items=vm.total ng-model=vm.currentPage ng-change=vm.pageChanged()></uib-pagination></div></div></div></div></div>'),a.put("app/massUpload/massUpload.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-cloud-upload" aria-hidden=true></i> Mass Upload</h3></div></div><div class=row><div class=col-xs-12><div class="panel panel-warning"><div class=panel-heading><b><i class="fa fa-university" aria-hidden=true></i> Upload Exams</b></div><div class=panel-body><h5><b>Mass Upload Exams</b></h5><b>Steps</b><ol><li>Download the exam <a target=_blank href=/templates/exam>Template</a> file</li><li>Fill in data and upload</li><li>If Id is present, record will be uploaded else inserted</li></ol><import upload-url=/templates/exam></div></div></div></div><div class=row><div class=col-xs-12><div class="panel panel-warning"><div class=panel-heading><b><i class="fa fa-question-circle-o" aria-hidden=true></i> Upload Questions</b></div><div class=panel-body><h5><b>Mass Upload Questions</b></h5><b>Steps</b><ol><li>Download the question <a target=_blank href=/templates/question>Template</a> file</li><li>Fill in data and upload</li><li>If Id is present, record will be uploaded else inserted</li></ol><import upload-url=/templates/question></div></div></div></div><div class=row><div class=col-xs-12><div class="panel panel-warning"><div class=panel-heading><b><i class="fa fa-user" aria-hidden=true></i> Upload Users</b></div><div class=panel-body><h5><b>Mass Upload Users</b></h5><b>Steps</b><ol><li>Download the user <a target=_blank href=/templates/user>Template</a> file</li><li>Fill in data and upload</li><li>If Id is present, record will be uploaded else inserted</li></ol><import upload-url=/templates/user></div></div></div></div></div></div></div>'),a.put("app/shareexam/shareexam.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header ng-if=vm.exam.id><i class="fa fa-university" aria-hidden=true></i> {{vm.exam.name}} - Assign Institutes</h3><h3 class=sub-header ng-if=vm.institute.id><i class="fa fa-money" aria-hidden=true></i> {{vm.institute.name}} - Assign Exams</h3></div><div class=col-xs-12 ng-if=vm.error><uib-alert type=danger class=text-center><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div></div><div class=row><div class=col-xs-12><div class="panel panel-default text-center" ng-if=vm.exam.id><div class=panel-heading><button ng-click=vm.shareInstitutes() type=submit class="btn btn-warning">Share With Institutes</button> <button ng-click=vm.cancel() class="btn btn-default">Cancel</button></div><list title-text="Unassigned Institutes for this exam ( Institutes that haven\'t been activated previously are displayed )" showdelete=false showcheckbox=true records=vm.institutes name-field=name fields="[\'name\',\'code\',\'description\']" filter-text="Filter By name or code" header-fields="[\'Name\',\'Code\',\'Description\']"></list></div><div class="panel panel-default text-center" ng-if=vm.institute.id><div class=panel-heading><button ng-click=vm.shareExams() type=submit class="btn btn-warning">Share Exams</button> <button ng-click=vm.cancel() class="btn btn-default">Cancel</button></div><list title-text="Share exams with the Institute" showdelete=false showcheckbox=true records=vm.exams name-field=name fields="[\'name\',\'code\',\'category\']" filter-text="Filter By Exam name or Code" header-fields="[\'Name\',\'Code\',\'Category\']"></list></div></div></div></div></div></div>'),a.put("app/stats/stats.html",'<div class=container-fluid><div class=row><div class="col-sm-3 col-md-2 sidebar"><admin-side-menu></admin-side-menu><root-side-menu ng-show=vm.isSuperAdmin()></root-side-menu></div><div class="col-sm-9 col-md-10"><div class=row><div class=col-xs-12><h3 class=sub-header><i class="fa fa-tachometer" aria-hidden=true></i> Stats</h3></div></div><div class=row><div class=col-xs-12><div class="panel panel-warning"><div class=panel-heading><b>Summary</b></div><div class=panel-body><div class=row><div class=col-sm-4><div class="panel panel-info text-center">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-university"></i>Total Exams</div><div class="text largeText"><var>{{vm.stats.summary[0].count}}</var></div></div></div><div class=col-sm-4><div class="panel panel-info text-center">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-user"></i> Total Users</div><div class="text largeText"><var>{{vm.stats.summary[1].count}}</var></div></div></div><div class=col-sm-4><div class="panel panel-info text-center">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-university"></i> Total Papers</div><div class="text largeText"><var>{{vm.stats.summary[2].count}}</var></div></div></div></div><hr><div class=row><div class="col-sm-6 text-center"><div class="panel panel-info">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-university"></i> Top Exams</div>\x3c!-- Table --\x3e<table class="table table-striped"><thead class=text-center><th class=text-center>Sl No</th><th class=text-center>Name</th><th class=text-center>Count</th></thead><tbody><tr ng-repeat="exam in vm.stats.exam5"><td>{{$index + 1}}</td><td>{{exam.exam}}</td><td>{{exam.count}}</td></tr></tbody></table></div></div><div class="col-sm-6 text-center"><div class="panel panel-info">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-user"></i> Top Users</div>\x3c!-- Table --\x3e<table class="table table-striped"><thead class=text-center><th class=text-center>Sl No</th><th class=text-center>Name</th><th class=text-center>Count</th></thead><tbody><tr ng-repeat="user in vm.stats.user5"><td>{{$index + 1}}</td><td>{{user.user}}</td><td>{{user.count}}</td></tr></tbody></table></div></div></div></div></div></div></div></div></div></div>'),a.put("components/directives/adminSideMenu/adminSideMenu.html",'<div class="panel panel-warning">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="glyphicon glyphicon-info-sign"></i> Admin Panel</div><ul class="list-group data-category"><li class=list-group-item><a ui-sref=examEdit href=javascript:void(0)>New Exam</a></li><li class=list-group-item><a ui-sref=userEdit>New User</a></li><li class=list-group-item><a ui-sref=category href=javascript:void(0)>Manage Category</a></li><li class=list-group-item><a ui-sref=users href=javascript:void(0)>Manage Users</a></li><li class=list-group-item><a ui-sref=massUpload href=javascript:void(0)>Mass Upload</a></li><li class=list-group-item><a ui-sref=stats href=javascript:void(0)>Stats</a></li></ul></div>'),a.put("components/directives/allStats/allStats.html",'<div><div class=row><div class=col-xs-12><div class="panel panel-default"><div class=panel-heading><b>Summary</b></div><div class=panel-body><div class=row><div class=col-sm-4><div class="panel panel-info text-center">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-university"></i>Total Exams</div><div class="text largeText"><var>{{vm.stats.summary[0].count}}</var></div></div></div><div class=col-sm-4><div class="panel panel-info text-center">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-user"></i> Total Users</div><div class="text largeText"><var>{{vm.stats.summary[1].count}}</var></div></div></div><div class=col-sm-4><div class="panel panel-info text-center">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-university"></i> Total Papers</div><div class="text largeText"><var>{{vm.stats.summary[2].count}}</var></div></div></div></div><hr><div class=row><div class="col-sm-6 text-center"><div class="panel panel-info">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-university"></i> Top Exams</div>\x3c!-- Table --\x3e<table class="table table-striped"><thead class=text-center><th class=text-center>Sl No</th><th class=text-center>Name</th><th class=text-center>Count</th></thead><tbody><tr ng-repeat="exam in vm.stats.exam5"><td>{{$index + 1}}</td><td>{{exam.exam}}</td><td>{{exam.count}}</td></tr></tbody></table></div></div><div class="col-sm-6 text-center"><div class="panel panel-info">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="fa fa-user"></i> Top Users</div>\x3c!-- Table --\x3e<table class="table table-striped"><thead class=text-center><th class=text-center>Sl No</th><th class=text-center>Name</th><th class=text-center>Count</th></thead><tbody><tr ng-repeat="user in vm.stats.user5"><td>{{$index + 1}}</td><td>{{user.user}}</td><td>{{user.count}}</td></tr></tbody></table></div></div></div></div></div></div></div></div>'),a.put("components/directives/categoryList/categoryList.html",'<div class="panel panel-warning">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="glyphicon glyphicon-th-list"></i> Categories</div>\x3c!-- List group --\x3e<ul class="list-group data-category"><li class=list-group-item><a href=javascript:void(0) ng-click="vm.filterByCategory(\'\')">All</a></li><li class=list-group-item ng-repeat="category in vm.categories"><a href=javascript:void(0) ng-click=vm.filterByCategory(category)>{{category}}</a></li></ul></div>'),a.put("components/directives/examDetail/examDetail.html",'<div class=form-horizontal><table class="table table-condensed"><tr><td align=right class=col-xs-3><label class=control-label>Name</label></td><td align=left><p class=form-control-static>{{vm.exam.name}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Code</label></td><td align=left><p class=form-control-static>{{vm.exam.code}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Active</label></td><td align=left><p class=form-control-static><span ng-show=vm.exam.active class=text-success>Active</span> <span ng-hide=vm.exam.active class=text-danger>Inactive</span></p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Category</label></td><td align=left><p class=form-control-static>{{vm.exam.category}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Description</label></td><td align=left><p class=form-control-static>{{vm.exam.description}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Maximum Marks</label></td><td align=left><p class=form-control-static>{{vm.exam.maxMarks}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Pass Percentage</label></td><td align=left><p class=form-control-static>{{vm.exam.passPercent}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Time Allowed</label></td><td align=left><p class=form-control-static>{{vm.exam.timeAllowed}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Created Date</label></td><td align=left><p class=form-control-static>{{vm.exam.createdDate | date}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Last Modified Date</label></td><td align=left><p class=form-control-static>{{vm.exam.lastModifiedDate | date}}</p></td></tr></table></div>'),a.put("components/directives/examList/examList.html",'<div class=row ng-if=!vm.lstExam><div class=col-xs-12>No records to display</div></div><div class=media ng-repeat="exam in vm.lstExam" ng-cloak=""><div class="media-left media-top"><a href=javascript:void(0) ng-click=vm.goToExamDetail(exam.id)><img class="media-object img-thumbnail" style=padding:30px ng-src=assets/images/{{exam.imageId}}.png></a></div><div class=media-body style=padding-left:20px><h4 class="media-heading title-heading"><a href=javascript:void(0) ng-click=vm.goToExamDetail(exam.id)>{{exam.name}}</a><h4 class=text-danger ng-hide=exam.active>Inactive</h4></h4><h5><i><b class=text-warning>Pass Percent</b>: {{exam.passPercent}} <b class=text-warning>Total Marks</b>: {{exam.maxMarks}}</i></h5><div><span class="glyphicon glyphicon-tags"></span>&nbsp; {{exam.category}}</div><div style=margin-top:10px;margin-right:20px>{{exam.description}}</div><div style=margin-top:10px><button class="btn btn-warning" ng-click=vm.launchExam(exam.id)>Launch</button> &nbsp; <button ng-show=vm.isAdmin type=button ng-click=vm.editExam(exam.id) class="btn btn-default">Edit</button></div><hr></div></div>'),a.put("components/directives/import/import.html",'<div><div><button type=file ngf-select="uploadFiles($file, $invalidFiles)" accept=.csv ngf-max-height=1000 ngf-max-size=5MB>Select File</button></div><div style=margin-top:15px ng-show=f.name><b>Selected File</b> {{f.name}} (Uploaded {{f.progress}}% )</div><div class=text-danger ng-show="errFile.name || errorMsg"><b>Error:</b> {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}} {{errorMsg}}</div><div>&nbsp;</div><div class=col-xs-6 ng-show=complete><table class="table table-condensed"><tr><th>Status</th><th>Count</th></tr><tr><td>Success</td><td>{{uploadResult.success}}</td></tr><tr><td>Failure</td><td>{{uploadResult.failure}}</td></tr><tr><td>File</td><td><a href=javascript:void(0) ng-click=downloadFile()>Result</a></td></tr></table></div></div>'),a.put("components/directives/instituteDetail/instituteDetail.html",'<div class=form-horizontal><table class="table table-condensed"><tr><td align=right class=col-xs-3><label class=control-label>Name</label></td><td align=left><p class=form-control-static>{{vm.institute.name}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Code</label></td><td align=left><p class=form-control-static>{{vm.institute.code}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Active</label></td><td align=left><p class=form-control-static><span ng-show=vm.institute.active class=text-success>Active</span> <span ng-hide=vm.institute.active class=text-danger>Inactive</span></p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Phone</label></td><td align=left><p class=form-control-static>{{vm.institute.phone}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Email</label></td><td align=left><p class=form-control-static>{{vm.institute.email}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Address</label></td><td align=left><p class=form-control-static>{{vm.institute.address}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Description</label></td><td align=left><p class=form-control-static>{{vm.institute.description}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Created Date</label></td><td align=left><p class=form-control-static>{{vm.institute.createdDate | date}}</p></td></tr><tr><td align=right class=col-xs-3><label class=control-label>Last Modified Date</label></td><td align=left><p class=form-control-static>{{vm.institute.lastModifiedDate | date}}</p></td></tr></table></div>'),a.put("components/directives/instituteList/institutelist.html",'<div class=panel-body><div class=pull-right><input ng-model=vm.search size=40 placeholder="Filter By Institute Name or Code" class=form-control></div><table class="table table-condensed" style=text-align:left><thead><tr><th width=20%>Action</th><th>Name</th><th>Code</th><th>Active</th><th>Phone</th><th>Email</th><th>Description</th></tr></thead><tbody><tr ng-repeat="institute in vm.allInstitutes | filter: vm.search"><td width=20%><a ui-sref="instituteEdit( {instituteId: institute.id})">Edit</a></td><td><a ui-sref="instituteDetail({instituteId: institute.id})">{{institute.name}}</a></td><td>{{institute.code}}</td><td><span ng-show=institute.active class=text-success>Active</span> <span ng-hide=institute.active class=text-danger>Inactive</span></td><td>{{institute.phone}}</td><td>{{institute.email}}</td><td>{{institute.description}}</td></tr></tbody></table></div>'),a.put("components/directives/instituteSettings/instituteSettings.html",'<div><div class=row><div class=col-xs-12><div class=page-header ng-show=vm.showPasswordScreen()><h3 style=padding-left:20px>{{vm.settings.passwordTitle}}</h3></div><div class=col-xs-12><uib-alert type=danger class=text-center ng-show=vm.error><span class="glyphicon glyphicon glyphicon-remove-sign"></span> <span>{{vm.error}}</span></uib-alert></div><div class=col-xs-12 ng-hide=vm.institute.isTableCreated><i>( Default password is Institute code, Default admin user is admin@admin.com )</i><br>&nbsp;</div><form class=form-horizontal name=vm.frm novalidate ng-show=vm.showPasswordScreen()><div class=form-group ng-class="{\'has-error\': vm.frm.password.$invalid && (vm.frm.password.$dirty || vm.frm.$submitted )}"><label for=password class="col-sm-2 control-label control-required">Password</label><div class=col-sm-4><input type=password maxlength=255 name=password ng-minlength=3 required ng-model=vm.settings.password class=form-control id=txtPassword placeholder=Password><span class=help-block ng-show="vm.frm.password.$invalid && (vm.frm.password.$dirty || vm.frm.$submitted)"><span ng-show=vm.frm.password.$error.required>Password is required</span> <span ng-show=vm.frm.password.$minlength.required>Password must be at least 3 characters.</span></span></div></div><div class=form-group ng-class="{\'has-error\': (vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.settings.isConfirmPassword)}"><label for=confirmPassword class="col-sm-2 control-label control-required">Confirm Password</label><div class=col-sm-4><input type=password maxlength=255 required name=confirmPassword ng-model=vm.settings.confirmPassword class=form-control id=txtConfirmPassword placeholder="Confirm Password"><span class=help-block ng-show="(vm.frm.confirmPassword.$invalid && vm.frm.$submitted || !vm.isConfirmPassword)"><span ng-hide=vm.settings.isConfirmPassword>Passwords do not match</span> <span ng-show=vm.frm.confirmPassword.$error.required>Please confirm the password again</span></span></div></div></form><div class=row><div class="col-xs-10 col-xs-offset-2"><button ng-click=vm.activate() ng-hide=vm.institute.isTableCreated type=submit class="btn btn-warning">Activate</button> <button ng-click=vm.resetAdminPassword() ng-show="vm.institute.isTableCreated && vm.institute.active" type=submit class="btn btn-warning">Reset Admin Password</button></div></div></div><div>&nbsp;<br></div></div><div class=row ng-show=vm.institute.isTableCreated><div class=col-xs-12><div class=page-header><h3 style=padding-left:20px>Activation Settings</h3></div><div class=row><div class="col-xs-10 col-xs-offset-2" ng-show=vm.institute.isTableCreated>Deactivating the institute will prevent all users (including admin), from loggin.</div></div><div class=row><div class="col-xs-10 col-xs-offset-2"><button ng-click=vm.deactivate() ng-show=vm.institute.active type=submit class="btn btn-danger">Deactivate</button> <button ng-click=vm.reactivate() ng-show="vm.institute.isTableCreated && !vm.institute.active" type=submit class="btn btn-danger">Reactivate</button></div></div><div class=row><div class="col-xs-10 col-xs-offset-2">&nbsp;</div></div></div></div></div>'),a.put("components/directives/institutelogo/institutelogo.html",'<div><form name=myForm class=form-horizontal><div class=form-group style="padding-top: 10px"><label class="col-sm-2 control-label">Current Logo</label><div class="col-sm-6 text-left"><img ng-src={{currentLogo}}></div></div><div class=form-group><label class="col-sm-2 control-label control-required">New Logo</label><div class=col-sm-4 style=padding-top:10px><input type=file ngf-select="" ng-model=picFile name=file accept=image/* ngf-max-size=10KB ngf-max-height=51 ngf-max-width=250 required ngf-model-invalid=errorFile><span class=help-block>Max Logo size is 10KB (250px Width * 50px Height)</span></div></div><div class=form-group><img ng-src={{existingLogo}}></div><div class=form-group><label class="col-sm-2 control-label">Preview</label><div class=col-sm-4><img ng-show=myForm.file.$valid ngf-thumbnail=picFile height=51px width=250px class=thumb> <button ng-click="picFile = null" ng-show=picFile>Remove</button></div></div><div class="form-group has-error"><div class="col-sm-4 col-sm-offset-2"><span class=help-block><i ng-show=myForm.file.$error.maxSize>File too large {{errorFile.size / 1000|number:1}}KB: max 10KB</i><br><span class=help ng-show=myForm.file.$error.maxHeight>Height too large, Max Height is 51px<br><i ng-show=myForm.file.$error.maxWidth>Width too large, Max Width is 250px</i></span></span></div></div><div class="form-group has-error"><div class="col-sm-4 col-sm-offset-2"><span class=help ng-show=errorMsg>Failure {{errorMsg}}</span></div></div><div class=form-group><div class="col-sm-4 col-sm-offset-2"><button ng-click=uploadFiles(picFile) type=submit class="btn btn-warning">Upload</button></div></div></form></div>'),a.put("components/directives/launchCorrectAnswer/launchCorrectAnswer.html",'<div class="panel panel-default"><div class=panel-heading><i class="fa fa-graduation-cap" aria-hidden=true></i> <b>Correct Answers</b></div><div class=panel-body ng-cloak=""><div class=row><div class="col-xs-12 text-center"><b>Score</b>: {{vm.result.percent}} % &nbsp;<b>Result</b>: <span ng-if=vm.result.result>PASS</span> <span ng-hide=vm.result.result>FAIL</span></div><div class=col-xs-12><hr></div><div class="form-inline col-xs-12"><div class="form-group col-xs-4"><label for=selAnswerType>Show&nbsp;</label><select name=selAnswerType ng-model=vm.filterType ng-change=vm.filterByAnswerType() class=form-control><option value=-1>All</option><option value=1>Correct</option><option value=0>Incorrect</option></select></div><div class="form-group col-xs-6"><label for=txtFilter>Filter</label><input class=form-control size=40 ng-model=vm.filterText name=txtFilter id=txtFilter placeholder="Filter By Question Description or Answer" ng-change=vm.filterAnswersByText()></div><div class="form-group col-xs-2"><label for=selPageSize>Page Size&nbsp;</label><select name=selPageSize ng-model=vm.pageSize ng-change=vm.pageSizeChanged() class=form-control><option value=10>10</option><option value=20>20</option><option value=30>30</option><option value=40>40</option><option value=50>50</option></select></div><div class=col-xs-12><hr></div><div class="col-xs-12 text-center" ng-hide=vm.hidePager()><uib-pagination boundary-links=true force-ellipses=true max-size=5 rotate=true previous-text=&lsaquo; next-text=&rsaquo; total-items=vm.total items-per-page=vm.pageSize ng-model=vm.currentPage ng-change=vm.pageChanged()></uib-pagination></div></div></div><div class=row drc="" ng-repeat="question in vm.correctAnswerPage"><div class=col-xs-12><label class="control-label text-primary">Question {{(vm.pageSize * (vm.currentPage - 1)) + $index + 1}}. <i style=font-size:2em class="text-success fa fa-check fa-4" ng-show=question.correct></i> <i style=font-size:2em class="text-danger fa fa-times fa-4" ng-hide=question.correct></i></label></div><div class=col-xs-12><span ng-bind-html="question.questionText | formatQuestion"></span></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12><label class="control-label text-primary">Answers</label></div><div class=col-xs-12 ng-hide="question.length === 1"><div style=margin-left:10px><div class=checkbox ng-repeat="answer in question.answerOptions"><label><input type=checkbox name={{$parent.index}} disabled ng-model=question.selectedAnswer[answer.key]><span><b>{{ answer.key | uppercase }}.</b></span> <span ng-bind-html=answer.value></span> <span style=margin-left:5px class="btn btn-success btn-xs" ng-show=answer.isCorrect><b><i class="fa fa-check"></i> Correct</b></span> <span style=margin-left:5px class="btn btn-danger btn-xs" ng-show=answer.isIncorrect><b><i class="fa fa-times"></i> Wrong</b></span></label></div></div></div><div class=col-xs-12 ng-show="question.length === 1"><div style=margin-left:10px><div class=radio ng-repeat="answer in question.answerOptions"><label><input type=radio ng-model=question.selectedAnswer value={{answer.key}} name={{$parent.index}} disabled><span><b>{{ answer.key | uppercase }}.</b></span> <span ng-bind-html=answer.value></span> <span style=margin-left:5px class="btn btn-success btn-xs" ng-show=answer.isCorrect><b><i class="fa fa-check"></i> Correct</b></span> <span style=margin-left:5px class="btn btn-danger btn-xs" ng-show=answer.isIncorrect><b><i class="fa fa-times"></i> Wrong</b></span></label></div></div></div><div class=col-xs-12><hr></div></div><div class=row><div class="col-xs-12 text-center"><uib-pagination boundary-links=true force-ellipses=true max-size=5 rotate=true previous-text=&lsaquo; next-text=&rsaquo; ng-hide=vm.hidePager() items-per-page=vm.pageSize total-items=vm.total ng-model=vm.currentPage ng-change=vm.pageChanged()></uib-pagination></div></div><div class=row><div class=col-xs-12><div class=text-center><br><button class="btn btn-warning btn-lg" ng-click=vm.exit()><i class="fa fa-external-link" aria-hidden=true></i> Exit Exam</button></div></div></div></div></div>'),a.put("components/directives/launchPrep/launchPrep.html",'<div class="panel panel-default"><div class=panel-heading><i class="fa fa-step-forward" aria-hidden=true></i> <b>Step 1.</b> Ready for Launch</div><div class=panel-body><div class=media><h4 class="media-heading title-heading"><a href=javascript:void(0)>{{vm.exam.name}}</a></h4><div class=row>&nbsp;</div><h5><i><b class=text-warning>Pass Percent</b>: {{vm.exam.passPercent}} <b class=text-warning>Total Marks</b>: {{vm.exam.maxMarks}}</i></h5><div><span class="glyphicon glyphicon-tags"></span>&nbsp; {{vm.exam.category}}</div><div class=row>&nbsp;</div><div style=margin-top:10px;margin-right:20px>{{vm.exam.description}}</div><hr></div><div class=text-center><div>Clicking on Start will start the timer and the exam. All the best !!</div><br><button class="btn btn-warning btn-lg" ng-click=vm.startExam()><i class="fa fa-play" aria-hidden=true></i> Start Exam</button></div></div></div>'),a.put("components/directives/launchQuestion/launchQuestion.html",'<div class="panel panel-default"><div class=panel-heading><i class="fa fa-arrows-alt" aria-hidden=true></i> Question <b>{{vm.currentQuestionIndex + 1}}</b> of <b>{{vm.allQuestions.length}}</b></div><div class=panel-body drc=""><div class=row><div class=col-xs-12><uib-accordion><div uib-accordion-group="" class=panel-info is-open=vm.open><uib-accordion-heading><div class=pull-left><i class=glyphicon ng-class="{\'glyphicon-triangle-bottom\': vm.open, \'glyphicon-triangle-right\': !vm.open}"></i></div><span>&nbsp;All Questions</span><div class=pull-right ng-class="{\'text-danger\':vm.timer.warning,\'text-success\':!vm.timer.warning}">Time Remaining <b>{{vm.timer.formattedTime}}</b></div><span class="text-danger pull-right" ng-show=vm.timer.warning style=margin-right:10px><i class="fa fa-spinner fa-pulse"></i>&nbsp; <i class="fa fa-exclamation-triangle" aria-hidden=true></i> <b>Hurry up !! the exam will end soon</b> <i class="fa fa-exclamation-triangle" aria-hidden=true></i></span></uib-accordion-heading><div class=row><div class=col-xs-1 style=padding-right:0px;font-size:85% ng-repeat="answer in vm.allAnswers"><b><a href=javascript:void(0) ng-click=vm.jumpToQuestion($index)>{{$index + 1}}.</a></b> <a href=javascript:void(0) ng-click=vm.jumpToQuestion($index)>{{answer | formatAnswer}}</a><span ng-show=answer.markForReview>*</span></div></div></div></uib-accordion></div><div class=col-xs-12><uib-progressbar type=warning value="vm.currentQuestionIndex + 1" title=Progress max=vm.allQuestions.length></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12><label class="control-label text-primary">Question {{vm.currentQuestionIndex + 1}}.</label></div><div class=col-xs-12><span ng-bind-html="vm.currentQuestion.questionText | formatQuestion"></span></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12><span class=small>Please select <b>{{vm.currentQuestion.len}}</b> answer(s)</span></div><div class="col-xs-12 checkbox"><label><input type=checkbox ng-model=vm.currentAnswer.markForReview>Mark for Review</label></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12><label class="control-label text-primary">Answers</label></div><div class=col-xs-12 ng-hide=vm.isRadio()><div style=margin-left:10px><div class=checkbox ng-repeat="answer in vm.answerOptions"><label><input type=checkbox name=answer ng-model=vm.currentAnswer.selectedAnswer[answer.key]><span><b>{{ $index | prepend }}</b></span> <span ng-bind-html=answer.value></label></div></div></div><div class=col-xs-12 ng-show=vm.isRadio()><div style=margin-left:10px><div class=radio ng-repeat="answer in vm.answerOptions"><label><input type=radio name=answer value={{answer.key}} ng-model=vm.currentAnswer.radioAnswer><span><b>{{ $index | prepend }}</b></span> <span ng-bind-html=answer.value></label></div></div></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-2><button ng-show=vm.isPrevious() ng-click=vm.movePrevious() class="btn btn-warning"><i class="fa fa-chevron-circle-left" aria-hidden=true></i> Previous</button></div><div class="col-xs-3 pull-right"><button ng-click=vm.moveNext() class="btn btn-warning">Next <i class="fa fa-chevron-circle-right" aria-hidden=true></i></button> &nbsp; <button ng-click=vm.moveToReview() class="btn btn-warning">Finish <i class="fa fa-stop-circle" aria-hidden=true></i></button></div></div></div></div>'),a.put("components/directives/launchResult/launchResult.html",'<div class="panel panel-default"><div class=panel-heading><i class="fa fa-bolt" aria-hidden=true></i> <b>Results</b></div><div class=panel-body ng-cloak=""><div class=row>&nbsp;</div><div class=row ng-if="vm.result && vm.result.result == 1" data-ng-cloak=true><div class="col-xs-8 col-xs-offset-2 text-center text-success"><div class="alert alert-success" role=alert><i class="fa fa-plane" aria-hidden=true></i> <b>Congratulations</b> !! you have passed the exam</div><img class=img style=padding:10px src=assets/images/success.png></div></div><div class=row ng-show="vm.result && vm.result.result == 0" data-ng-cloak=true><div class="col-xs-8 col-xs-offset-2 text-center text-danger"><div class="alert alert-danger" role=alert><i class="fa fa-times-circle" aria-hidden=true></i> <b>Sorry !</b> you did not score the minimum required to pass the exam. Please try again, after some time</div><img class=img style=padding:10px src=assets/images/failure.png></div></div><div class=row>&nbsp;</div><div class=row><div class="col-xs-8 col-xs-offset-2"><table class="table table-condensed"><tr><td><b>Score</b></td><td>{{vm.result.percent}} %</td></tr><tr><td><b>Time Taken</b></td><td>{{vm.timer.timeTaken}} minute(s)</td></tr></table></div></div><div class=text-center><br><button class="btn btn-warning btn-lg" ng-click=vm.moveToCorrectAnswer()><i class="fa fa-external-link" aria-hidden=true></i> Show Answers</button></div></div></div>'),a.put("components/directives/launchReview/launchReview.html",'<div class="panel panel-default"><div class=panel-heading><i class="fa fa-flag" aria-hidden=true></i> <b>Review</b> Answers</div><div class=panel-body><div class=row><div class=col-xs-12>Review your answers (Answers marked with * are the ones marked for review)</div><div class=col-xs-12><div class=pull-right ng-class="{\'text-danger\':vm.timer.warning,\'text-success\':!vm.timer.warning}">Time Remaining <b>{{vm.timer.formattedTime}}</b></div><span class="text-danger pull-right" ng-show=vm.timer.warning style=margin-right:10px><i class="fa fa-spinner fa-pulse"></i>&nbsp; <i class="fa fa-exclamation-triangle" aria-hidden=true></i> <b>Hurry up !! the exam will end soon</b> <i class="fa fa-exclamation-triangle" aria-hidden=true></i></span></div><div class=col-xs-12>&nbsp;</div></div><div class=row><div class=col-xs-2 ng-repeat="answer in vm.allAnswers"><b><a href=javascript:void(0) ng-click=vm.jumpToQuestion($index)>{{$index + 1}}.</a></b> <a href=javascript:void(0) ng-click=vm.jumpToQuestion($index)>{{answer | formatAnswer}}</a> <span ng-show=answer.markForReview>*</span></div></div><div class=row><div class=col-xs-12>&nbsp;</div></div><div class=row><div class=col-xs-2><button ng-click=vm.moveToQuestion() class="btn btn-warning"><i class="fa fa-chevron-circle-left" aria-hidden=true></i> Previous</button></div><div class="col-xs-2 col-xs-offset-8"><button ng-click=vm.moveToResult() class="btn btn-warning">Finish <i class="fa fa-stop-circle" aria-hidden=true></i></button></div></div></div></div>'),a.put("components/directives/list/list.html",'<div class=panel-body><div class=pull-left><i>{{vm.titleText}}</i></div><div class=pull-right><input ng-model=vm.search placeholder={{vm.filterText}} class=form-control></div><table class="table table-condensed" style=text-align:left><thead><tr><th width=10%><span><input type=checkbox ng-if=vm.showcheckbox ng-model=vm.masterSelected ng-click=vm.setAll()></span> Action</th><th ng-repeat="headerField in vm.headerFields">{{headerField}}</th><th width=10%>Active</th></tr></thead><tbody><tr ng-if="vm.records.length === 0"><td colspan=4>No records to display</td></tr><tr ng-repeat="record in vm.records | filter: vm.search"><td width=10%><span ng-if=vm.showcheckbox><input type=checkbox ng-model=record.isSelected></span> <a href=javascript:void(0) ng-if=vm.showdelete ng-click="vm.delete(record[vm.nameField], record)">{{vm.deleteText}}</a></td><td ng-repeat="field in vm.fields">{{record[field]}}</td><td><span ng-show=record.active class=text-success>Active</span> <span ng-hide=record.active class=text-danger>Inactive</span></td></tr></tbody></table></div>'),a.put("components/directives/questionList/questionList.html",'<div class=panel-body><div class=pull-right><input ng-model=vm.search placeholder="Filter By Question Name or Description" class=form-control></div><table class="table table-condensed" style=text-align:left><thead><tr><th width=10%>Action</th><th width=10%>Active</th><th width=10%>Name</th><th>Question Text</th></tr></thead><tbody><tr ng-if="vm.questions.length === 0"><td colspan=4>No records to display</td></tr><tr ng-repeat="question in vm.questions | filter: vm.search"><td width=10%><a ui-sref="questionEdit({questionId : question.id})">Edit</a> | <a href=javascript:void(0) ng-click=vm.deleteQuestion(question.name,question)>Delete</a></td><td><span ng-show=question.active class=text-success>Active</span> <span ng-hide=question.active class=text-danger>Inactive</span></td><td>{{question.name}}</td><td>{{question.questionText}}</td></tr></tbody></table></div>'),a.put("components/directives/quizQuestion/quizQuestion.html",'<div class=row><div class=col-xs-12><label class=control-label>Question {{vm.currentQuestionIndex + 1}}.</label></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12>{{vm.currentQuestion.questionText}}</div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12><span class=small>Please select <b>{{vm.currentQuestion.answerLength}}</b> answer(s)</span></div><div class="col-xs-12 checkbox"><label><input type=checkbox>Mark for Review</label></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-12><label class=control-label>Answers</label></div><div class=col-xs-12 ng-hide=vm.isRadio()><div style=margin-left:10px><div class=checkbox ng-repeat="answer in vm.answerOptions"><label><input type=checkbox name=answer ng-model=vm.currentAnswer.selectedAnswer[answer.key]>{{answer.value}}</label></div></div></div><div class=col-xs-12 ng-show=vm.isRadio()><div style=margin-left:10px><div class=radio ng-repeat="answer in vm.answerOptions"><label><input type=radio name=answer ng-model=vm.currentAnswer.selectedAnswer[answer.key]>{{answer.value}}</label></div></div></div><div class=col-xs-12>&nbsp;</div><div class=col-xs-2><button ng-show=vm.isPrevious() ng-click=vm.movePrevious() class="btn btn-warning">Previous</button></div><div class="col-xs-2 col-xs-offset-8"><button ng-show=vm.isNext() ng-click=vm.moveNext() class="btn btn-warning">Next</button></div></div>'),a.put("components/directives/rootSideMenu/rootSideMenu.html",'<div class="panel panel-warning">\x3c!-- Default panel contents --\x3e<div class=panel-heading><i class="glyphicon glyphicon-dashboard"></i> Root Panel</div><ul class="list-group data-category"><li class=list-group-item><a ui-sref=institutes href=javascript:void(0)>Manage Institutes</a></li><li class=list-group-item><a ui-sref=backup href=javascript:void(0)>Backup Database</a> <span class={{backupClass}} ng-if=showBackupDays uib-tooltip="Days since the database was last backed up">{{lastBackup}}</span></li></ul></div>'),a.put("components/directives/selectImage/selectImage.html",'<script type=text/ng-template id=selectImage.html><div class="modal-header">\n        <button ng-if="modal.dismissable" type="button" ng-click="$dismiss()" class="close">&times;</button>\n        <h4 class="modal-title">Please select a display Image</h4>\n    </div>\n    <div class="modal-body">\n       <div class="row">\n           <div class="col-xs-2" ng-repeat="img in vm.images">\n               <div class="spacer">\n                    <a href="javascript:void(0)" ng-click="vm.selectImage(img)">\n                        <img class="img-responsive" ng-src="assets/images/{{img}}.png" />\n                    </a>\n               </div>\n           </div>\n       </div>\n    </div>\n    <div class="modal-footer">\n        <input type="button" value="OK" class="btn btn-warning" ng-click="$close()" />\n        <input type="button" value="Cancel" class="btn btn-default" ng-click="$dismiss()" />\n    </div><\/script><input type=button value=Select class="btn btn-default" ng-click=vm.launchModal()>'),a.put("components/directives/sharedExam/sharedExam.html","<div>this is the sharedExam directive</div>"),a.put("components/directives/userlist/userlist.html",'<div class=panel-body><div class=pull-right><input ng-model=vm.search placeholder="Filter By User Name or Email" class=form-control></div><table class="table table-condensed" style=text-align:left><thead><tr><th width=20%>Action</th><th>Name</th><th>Email</th><th>Active</th><th>Role</th></tr></thead><tbody><tr ng-repeat="user in vm.allUsers | filter: vm.search"><td width=20%><a ui-sref="userEdit({userId: user.id})">Edit</a> | <a href=javascript:void(0) ng-click="vm.delete(user.name, user)">Delete</a> | <a href=javascript:void(0) ng-if=!user.active ng-click="vm.activate(\'Activate\', user.name,user)">Activate</a> <a href=javascript:void(0) ng-if=user.active ng-click="vm.deActivate(\'Deactivate\', user.name,user)">Deactivate</a></td><td><a ui-sref="profile({userId : user.id})">{{user.name}}</a></td><td>{{user.email}}</td><td><span ng-show=user.active class=text-success>Active</span> <span ng-hide=user.active class=text-danger>Inactive</span></td><td>{{user.role}}</td></tr></tbody></table></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/footer.html",'<footer class=footer ng-controller="NavbarCtrl as vm"><div class=container><p>&copy; All Rights Reserved | <a href=http://sharmainfotech.org target=_blank>Sharma Infotech Exam Center</a> | <a href=https://github.com/ritzforce/xyz/issues target=_blank>Report Issues</a></p><p><small><span ng-bind-html=vm.address()><br><span ng-bind-html=vm.contact()></small></p></div></footer>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller="NavbarCtrl as vm"><div class=container-fluid><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand style=padding:0px;padding-right:10px><img ng-src={{vm.logo()}}></a> <a href="/" class=navbar-brand><span class=text-primary>{{vm.name()}}</span></a></div><div collapse=vm.isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li><p style=margin-top:10px;font-size:60%><span ng-bind-html=vm.address()><br><span ng-bind-html=vm.contact()></p></li></ul><ul class="nav navbar-nav navbar-right" ng-show=vm.isLoggedIn()><li><a href="/"><span class="glyphicon glyphicon-home"></span> Home</a></li><li><p class="navbar-text pull-left"><span class="glyphicon glyphicon-user"></span> Logged in as {{vm.getCurrentUser().name}}</p></li><li><a ui-sref=profile><i class="glyphicon glyphicon-folder-close"></i> My Profile</a></li><li><a href="" ng-click=vm.logout()><span class="glyphicon glyphicon-erase"></span> Logout</a></li></ul></div></div></div>')}]);